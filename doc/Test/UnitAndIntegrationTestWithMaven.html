
<!DOCTYPE html><html dir="ltr" lang="en-US"><head><meta charset="UTF-8" /><title>Integration Testing With Maven</title><link rel="stylesheet" href="https://www.petrikainulainen.net/wp-content/cache/min/1/5cae55b583f77a445e3f6a581f01c0a3.css" data-minify="1" /><meta name="description" content="This tutorial describes how you can keep your code and integration tests in the same module, and create a separate directory for your integration tests." /><meta name="robots" content="noodp, noydir" /><meta name="viewport" content="width=device-width, initial-scale=1" /><link rel="dns-prefetch" href="//fonts.googleapis.com" /><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin /><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Pacifico:400" /><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" /><link rel="canonical" href="https://www.petrikainulainen.net/programming/maven/integration-testing-with-maven/" />  <script>(function(d) {
    var config = {
      kitId: 'loz7uhc',
      scriptTimeout: 3000,
      async: true
    },
    h=d.documentElement,t=setTimeout(function(){h.className=h.className.replace(/\bwf-loading\b/g,"")+" wf-inactive";},config.scriptTimeout),tk=d.createElement("script"),f=false,s=d.getElementsByTagName("script")[0],a;h.className+=" wf-loading";tk.src='https://use.typekit.net/'+config.kitId+'.js';tk.async=true;tk.onload=tk.onreadystatechange=function(){a=this.readyState;if(f||a&&a!="complete"&&a!="loaded")return;f=true;clearTimeout(t);try{Typekit.load(config)}catch(e){}};s.parentNode.insertBefore(tk,s)
  })(document);</script> <link rel="alternate" type="application/rss+xml" title="Petri Kainulainen feed" href="https://www.petrikainulainen.net/feed/" /><link rel="pingback" href="https://www.petrikainulainen.net/xmlrpc.php" /><link rel='dns-prefetch' href='//s.w.org' /><link rel="alternate" type="application/rss+xml" title="Petri Kainulainen &raquo; Integration Testing With Maven Comments Feed" href="https://www.petrikainulainen.net/programming/maven/integration-testing-with-maven/feed/" /> <script type="text/javascript">window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/11\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/11\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/www.petrikainulainen.net\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.9.8"}};
			!function(a,b,c){function d(a,b){var c=String.fromCharCode;l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,a),0,0);var d=k.toDataURL();l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,b),0,0);var e=k.toDataURL();return d===e}function e(a){var b;if(!l||!l.fillText)return!1;switch(l.textBaseline="top",l.font="600 32px Arial",a){case"flag":return!(b=d([55356,56826,55356,56819],[55356,56826,8203,55356,56819]))&&(b=d([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]),!b);case"emoji":return b=d([55358,56760,9792,65039],[55358,56760,8203,9792,65039]),!b}return!1}function f(a){var c=b.createElement("script");c.src=a,c.defer=c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var g,h,i,j,k=b.createElement("canvas"),l=k.getContext&&k.getContext("2d");for(j=Array("flag","emoji"),c.supports={everything:!0,everythingExceptFlag:!0},i=0;i<j.length;i++)c.supports[j[i]]=e(j[i]),c.supports.everything=c.supports.everything&&c.supports[j[i]],"flag"!==j[i]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[j[i]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(h=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",h,!1),a.addEventListener("load",h,!1)):(a.attachEvent("onload",h),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),g=c.source||{},g.concatemoji?f(g.concatemoji):g.wpemoji&&g.twemoji&&(f(g.twemoji),f(g.wpemoji)))}(window,document,window._wpemojiSettings);</script> <style type="text/css">img.wp-smiley,img.emoji{display:inline!important;border:none!important;box-shadow:none!important;height:1em!important;width:1em!important;margin:0 .07em!important;vertical-align:-0.1em!important;background:none!important;padding:0!important}</style> <script type='text/javascript' src='https://www.petrikainulainen.net/wp-includes/js/jquery/jquery.js?ver=1.12.4'></script> <script type='text/javascript' src='https://www.petrikainulainen.net/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.4.1'></script> <link rel='https://api.w.org/' href='https://www.petrikainulainen.net/wp-json/' /><link rel="alternate" type="application/json+oembed" href="https://www.petrikainulainen.net/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fwww.petrikainulainen.net%2Fprogramming%2Fmaven%2Fintegration-testing-with-maven%2F" /><link rel="alternate" type="text/xml+oembed" href="https://www.petrikainulainen.net/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fwww.petrikainulainen.net%2Fprogramming%2Fmaven%2Fintegration-testing-with-maven%2F&#038;format=xml" /> <script>var doNotTrack = (navigator.doNotTrack || navigator.msDoNotTrack || window.doNotTrack);
			doNotTrack = !doNotTrack || doNotTrack == "unspecified" || doNotTrack == "0" ? false : true;
			if (!doNotTrack) {
				(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
				(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
				m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
				})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
				ga('create', 'UA-1702525-2', 'auto');
				ga('set', 'anonymizeIp', true);
			ga('set', 'forceSSL', true);
			ga('send', 'pageview');
			}</script> <style type="text/css">.broken_link,a.broken_link{text-decoration:line-through}</style><meta name="twitter:card" content="summary"><meta name="twitter:site" content="@petrikainulaine"><meta name="twitter:url" content="https://www.petrikainulainen.net/programming/maven/integration-testing-with-maven/"><meta name="twitter:title" content="Integration Testing With Maven"><meta name="twitter:description" content="Adding integration tests to a Maven build has traditionally been a bit painful. I suspect that the reason for this is that the standard directory layout has only one test directory (src/test). If we want to use the standard directory layout and add integration tests to our Maven build, we have two options: First, we can add our integration tests to the same directory as our unit tests. This is an awful idea because integration tests and unit tests are totally different beasts and this approach forces us to mix them. Also, if we follow this approach, running unit tests from our IDE becomes a pain in the ass. When we run tests, our IDE runs all tests found from the test directory. This means that both unit and integration tests are run. If we are “lucky”, this means that our test suite is slower than it could be, but often this means that our integration tests fail every time. Not nice, huh? Second, we can add our integration tests to a new module. This is overkill because it forces us to transform our project into a multi-module project only because we want to separate our integration tests from our"><meta name="twitter:image" content="/wp-content/uploads/oops.jpg"> <script type="text/javascript" id="syntaxhighlighteranchor"></script> <link rel="shortcut icon" href="https://www.petrikainulainen.net/wp-content/themes/thesis/lib/images/favicon.ico" /> <noscript><style>.menu-main{display:block}</style></noscript></head><body class="template-single"><div id="header" class="full_width"><div class="inner"><div id="site_title"><a href="https://www.petrikainulainen.net">Petri Kainulainen</a></div><div class="navigation"> <span class="menu_control">≡ Menu</span><ul id="menu-main-navigation" class="menu menu-main"><li id="menu-item-2779" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-2779"><a href="https://www.petrikainulainen.net">Home</a></li><li id="menu-item-2772" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2772"><a href="https://www.petrikainulainen.net/about-me/">About Me</a></li><li id="menu-item-3887" class="menu-item menu-item-type-post_type menu-item-object-page current_page_parent menu-item-3887"><a href="https://www.petrikainulainen.net/blog/">Blog</a></li><li id="menu-item-4592" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4592"><a href="https://www.petrikainulainen.net/tutorials/">Tutorials</a></li><li id="menu-item-18580" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-18580"><a href="https://www.petrikainulainen.net/courses/">Courses</a></li></ul><div class="profile-icons"> <a class="profile-icon fa fa-twitter" href="https://twitter.com/petrikainulaine"></a> <a class="profile-icon fa fa-google-plus" href="https://plus.google.com/+PetriKainulainen?rel=author"></a> <a class="profile-icon fa fa-linkedin" href="https://www.linkedin.com/in/petrikainulainen"></a> <a class="profile-icon fa fa-youtube" href="https://www.youtube.com/c/petrikainulainen"></a> <a class="profile-icon fa fa-rss" href="https://feeds.feedblitz.com/PetriKainulainen"></a></div></div></div></div><div id="promo_bar" class="full_width"><div class="promo"><p><strong>Are you tired of writing tests which have a lot of boilerplate code? If so, <a href="/introduction-to-spock-framework/">get started with Spock Framework >></a></strong></p></div></div><div id="content_box" class="full_width"><div class="inner"><div class="content"><article id="post-2840" class="post_box grt top" itemscope itemtype="http://schema.org/Article"><link itemprop="mainEntityOfPage" href="https://www.petrikainulainen.net/programming/maven/integration-testing-with-maven/" /><header class="headline-container"><h1 class="headline" itemprop="headline">Integration Testing With Maven</h1><div class="byline"> <span class="post_author" itemprop="author">Petri Kainulainen</span><meta itemprop="datePublished" content="2012-07-16" /><meta itemprop="dateModified" content="2017-07-26" /> <span class="post_date" title="2012-07-16">July 16, 2012</span><meta itemprop="interactionCount" content="UserComments:86" /> <a class="num_comments_link" href="https://www.petrikainulainen.net/programming/maven/integration-testing-with-maven/#comments" rel="nofollow"><span class="num_comments">86</span> comments</a><p class="post_tags" itemprop="keywords"> <a href="https://www.petrikainulainen.net/tag/integration-testing/" rel="tag">Integration Testing</a>, <a href="https://www.petrikainulainen.net/tag/maven/" rel="tag">Maven</a>, <a href="https://www.petrikainulainen.net/tag/unit-testing-tag/" rel="tag">Unit Testing</a></p></div></header><div class="post_content" itemprop="articleBody"><p>Adding integration tests to a Maven build has traditionally been a bit painful. I suspect that the reason for this is that the standard directory layout has only one test directory (<em>src/test</em>).</p><p>If we want to use the standard directory layout and add integration tests to our Maven build, we have two options:</p><p><strong>First</strong>, we can add our integration tests to the same directory as our unit tests. This is an awful idea because integration tests and unit tests are totally different beasts and this approach forces us to mix them. Also, if we follow this approach, running unit tests from our IDE becomes a pain in the ass. When we run tests, our IDE runs all tests found from the test directory. This means that both unit and integration tests are run. If we are “lucky”, this means that our test suite is slower than it could be, but often this means that our integration tests fail every time. Not nice, huh?</p><p><strong>Second</strong>, we can add our integration tests to a new module. This is overkill because it forces us to transform our project into a multi-module project only because we want to separate our integration tests from our unit tests. Also, if our project is already a multi-module project, and we want to write integration tests for more than one module, we are screwed. Of course we can always create a separate integration test module for each tested module, but it would be less painful to shoot ourselves in the foot.</p><p>It is pretty clear that <strong>both of these solutions suck</strong>. This blog post describes how we can solve the problems of these solutions.</p><p>The requirements of our Maven build are:</p><ul><li>Integration and unit tests must have separate source directories. The <em>src/integration-test/java</em> directory must contain the source code of our integration tests and the <em>src/test/java</em> directory must contain the source code of our unit tests.</li><li>Integration and unit tests must have different resource directories. The <em>src/integration-test/resources</em> directory must contain the resources of our integration tests and the <em>src/test/resources</em> directory must contain the resources of our unit tests.</li><li>Only unit tests are run by default.</li><li>It must be possible to run only integration tests.</li><li>If an integration test fails, it must fail our build.</li><li>The name of each integration test class must start with the prefix &#8216;IT&#8217;.</li></ul><p>Let’s start by creating Maven profiles for unit and integration tests.</p><h2>Creating Maven Profiles for Unit and Integration Tests</h2><p><strong>First</strong>, we need to create two Maven profiles that are described in the following:</p><p>The <em>dev</em> profile is used in the development environment, and it is the default profile of our Maven build (i.e. It is active when the active profile is not specified). This Maven profile has two goals that are described in the following:</p><ol><li>It configures the name of the directory that contains the properties file which contains the configuration used in the development environment.</li><li>It ensures that only unit tests are run when the <em>dev</em> profile is active.</li></ol><p>The <em>integration-test</em> profile is used for running the integration tests. The <em>integration-test</em> profile has two goals that are described in the following:</p><ol><li>It configures the name of the directory that contains the properties file which contains the configuration used by our integration tests.</li><li>It ensures that only integration tests are run when the <em>integration-test</em> profile is active.</li></ol><p>We can create these profiles by adding the following XML to our pom.xml file:</p><pre class="brush: xml; title: ; notranslate" title="">
&lt;profiles&gt;
    &lt;!-- The Configuration of the development profile --&gt;
    &lt;profile&gt;
        &lt;id&gt;dev&lt;/id&gt;
        &lt;activation&gt;
            &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;
        &lt;/activation&gt;
        &lt;properties&gt;
            &lt;!--
                Specifies the build.profile.id property that must be equal than the name of
                the directory that contains the profile specific configuration file.
                Because the name of the directory that contains the configuration file of the
                development profile is dev, we must set the value of the build.profile.id
                property to dev.
            --&gt;
            &lt;build.profile.id&gt;dev&lt;/build.profile.id&gt;
            &lt;!--
                Only unit tests are run when the development profile is active
            --&gt;
            &lt;skip.integration.tests&gt;true&lt;/skip.integration.tests&gt;
            &lt;skip.unit.tests&gt;false&lt;/skip.unit.tests&gt;
        &lt;/properties&gt;
    &lt;/profile&gt;
    &lt;!-- The Configuration of the integration-test profile --&gt;
    &lt;profile&gt;
        &lt;id&gt;integration-test&lt;/id&gt;
        &lt;properties&gt;
            &lt;!--
                Specifies the build.profile.id property that must be equal than the name of
                the directory that contains the profile specific configuration file.
                Because the name of the directory that contains the configuration file of the
                integration-test profile is integration-test, we must set the value of the
                build.profile.id property to integration-test.
            --&gt;
            &lt;build.profile.id&gt;integration-test&lt;/build.profile.id&gt;
            &lt;!--
                Only integration tests are run when the integration-test profile is active
            --&gt;
            &lt;skip.integration.tests&gt;false&lt;/skip.integration.tests&gt;
            &lt;skip.unit.tests&gt;true&lt;/skip.unit.tests&gt;
        &lt;/properties&gt;
    &lt;/profile&gt;
&lt;/profiles&gt;
</pre><p><strong>Second</strong>, we have to ensure that our application uses the correct configuration. When we run it by using the <em>dev</em> profile, we want that it uses the configuration that is used in the development environment. On the other hand, when we run our integration tests, we want that the tested code uses the configuration tailored for our integration tests.</p><p>We can ensure that our application uses the profile specific configuration by following these steps:</p><ol><li>Configure our Maven build to load the profile specific configuration file (<em>config.properties</em>) from the configuration directory of the active Maven profile.</li><li>Configure the resource directory of our build (<em>src/main/resources</em>) and enable resources filtering. This ensures that the placeholders found from our resources are replaced with the actual property values that are read from the profile specific configuration file.</li></ol><p>The relevant part of our POM file looks as follows:</p><pre class="brush: xml; title: ; notranslate" title="">
&lt;filters&gt;
    &lt;!--
        Ensures that the config.properties file is always loaded from the
        configuration directory of the active Maven profile.
    --&gt;
    &lt;filter&gt;profiles/${build.profile.id}/config.properties&lt;/filter&gt;
&lt;/filters&gt;
&lt;resources&gt;
    &lt;!--
        Placeholders that are found from the files located in the configured resource
        directories are replaced with the property values found from the profile
        specific configuration file.
    --&gt;
    &lt;resource&gt;
        &lt;filtering&gt;true&lt;/filtering&gt;
        &lt;directory&gt;src/main/resources&lt;/directory&gt;
    &lt;/resource&gt;
&lt;/resources&gt;
</pre><div class="note"> <strong>Additional Reading:</strong></p><ul><li><a href="/programming/tips-and-tricks/creating-profile-specific-configuration-files-with-maven/">Creating Profile Specific Configuration Files with Maven</a></li></ul></div><p>Let’s move on and find out how we can add extra source and resource directories to our Maven build.</p><h2>Adding Extra Source and Resource Directories to Our Maven Build</h2><p>The requirements of our Maven build state that our integration and unit tests must have separate source and resource directories. Because the source code and the resources of our unit tests are found from the standard test directories, we have to create new source and resource directories for our integration tests.</p><p>We can add extra source and resource directories to our build by using the <a href="http://www.mojohaus.org/build-helper-maven-plugin/" target="_blank">Build Helper Maven Plugin</a>. We fulfill our requirements by following these steps:</p><ol><li>Add the Build Helper Maven Plugin to the <em>plugins</em> section of our POM file.</li><li>Configure the executions that add the new source and resource directories to our build.</li></ol><p><strong>First</strong>, we can add the Build Helper Maven Plugin to our Maven build by adding the following XML to the <em>plugins</em> section of our <em>pom.xml</em> file:</p><pre class="brush: xml; title: ; notranslate" title="">
&lt;plugin&gt;
    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;
    &lt;artifactId&gt;build-helper-maven-plugin&lt;/artifactId&gt;
    &lt;version&gt;1.9.1&lt;/version&gt;
    &lt;executions&gt;
        &lt;!-- Add executions here --&gt;
    &lt;/executions&gt;
&lt;/plugin&gt;
</pre><p><strong>Second</strong>, we have to configure the executions that add our new source and resource directories to our Maven build. We can do this by following these steps:</p><ol><li>Create an execution that adds the new source directory (<em>src/integration-test/java</em>) to our build.</li><li>Create an execution that adds the new resource directory (<em>src/integration-test/resources</em>) to our build and enable resource filtering.</li></ol><p>We can create these executions by adding the following XML to the configuration of the Build Helper Maven Plugin:</p><pre class="brush: xml; title: ; notranslate" title="">
&lt;!-- Add a new source directory to our build --&gt;
&lt;execution&gt;
    &lt;id&gt;add-integration-test-sources&lt;/id&gt;
    &lt;phase&gt;generate-test-sources&lt;/phase&gt;
    &lt;goals&gt;
        &lt;goal&gt;add-test-source&lt;/goal&gt;
    &lt;/goals&gt;
    &lt;configuration&gt;
        &lt;!-- Configures the source directory of our integration tests --&gt;
        &lt;sources&gt;
            &lt;source&gt;src/integration-test/java&lt;/source&gt;
        &lt;/sources&gt;
    &lt;/configuration&gt;
&lt;/execution&gt;
&lt;!-- Add a new resource directory to our build --&gt;
&lt;execution&gt;
	&lt;id&gt;add-integration-test-resources&lt;/id&gt;
	&lt;phase&gt;generate-test-resources&lt;/phase&gt;
	&lt;goals&gt;
    	&lt;goal&gt;add-test-resource&lt;/goal&gt;
	&lt;/goals&gt;
	&lt;configuration&gt;
    	&lt;!-- Configures the resource directory of our integration tests --&gt;
    	&lt;resources&gt;
        	&lt;!--
            	Placeholders that are found from the files located in the configured resource
            	directories are replaced with the property values found from the profile
            	specific configuration file.
        	--&gt;
        	&lt;resource&gt;
            	&lt;filtering&gt;true&lt;/filtering&gt;
            	&lt;directory&gt;src/integration-test/resources&lt;/directory&gt;
        	&lt;/resource&gt;
		&lt;/resources&gt;
	&lt;/configuration&gt;
&lt;/execution&gt;
</pre><div class="note"> <strong>Additional Reading:</strong></p><ul><li><a href="http://www.mojohaus.org/build-helper-maven-plugin/plugin-info.html" target="_blank">Build Helper Maven Plugin &#8211; Goals</a></li><li><a href="http://www.mojohaus.org/build-helper-maven-plugin/usage.html" target="_blank">Build Helper Maven Plugin &#8211; Usage</a></li></ul></div><p>Let’s find out how we can run our unit tests with Maven.</p><h2>Running Unit Tests</h2><p>If we think about the requirements of our Maven build, we notice that we must take the following things into account when we run our unit tests:</p><ul><li>Unit tests are run only when the <em>dev</em> profile is active.</li><li>When we run our unit tests, our build must run all test methods found from the test classes whose name don’t start with the prefix &#8216;IT&#8217;.</li></ul><p>We can run our unit tests by using the <a href="http://maven.apache.org/surefire/maven-surefire-plugin/" target="_blank">Maven Surefire plugin</a>. We can configure it by following this steps:</p><ol><li>Configure the plugin to skip unit tests if the value of the <em>skip.unit.tests</em> property is true.</li><li>Configure the plugin to ignore our integration tests.</li></ol><p>We can configure the Maven Surefire plugin by adding the following XML to the <em>plugins</em> section of our POM file:</p><pre class="brush: xml; title: ; notranslate" title="">
&lt;plugin&gt;
    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;
    &lt;version&gt;2.18&lt;/version&gt;
    &lt;configuration&gt;
        &lt;!-- Skips unit tests if the value of skip.unit.tests property is true --&gt;
        &lt;skipTests&gt;${skip.unit.tests}&lt;/skipTests&gt;
        &lt;!-- Excludes integration tests when unit tests are run --&gt;
        &lt;excludes&gt;
            &lt;exclude&gt;**/IT*.java&lt;/exclude&gt;
        &lt;/excludes&gt;
    &lt;/configuration&gt;
&lt;/plugin&gt;
</pre><p>We can run our unit tests by using the command: <em>mvn clean test -P dev</em>.</p><div class="note"> <strong>Additional Reading:</strong></p><ul><li><a href="http://maven.apache.org/surefire/maven-surefire-plugin/usage.html" target="_blank">Maven Surefire Plugin &#8211; Usage</a></li><li><a href="http://maven.apache.org/surefire/maven-surefire-plugin/examples/skipping-tests.html" target="_blank">Maven Surefire Plugin &#8211; Skipping Tests</a></li><li><a href="http://maven.apache.org/surefire/maven-surefire-plugin/examples/inclusion-exclusion.html" target="_blank">Maven Surefire Plugin &#8211; Inclusions and Exclusions of Tests</a></li></ul></div><p>Let&#8217;s move on and find out how we can run our integration tests with Maven.</p><h2>Running Integration Tests</h2><p>If we think about the requirements of our Maven build, we notice that we have to take the following things into account when we run our integration tests:</p><ul><li>Integration tests are run only when the <em>integration-test</em> profile is active.</li><li>If an integration test fails, our build must fail as well.</li><li>When we run our integration tests, our build must run all test methods found from the test classes whose name starts with the prefix &#8216;IT&#8217;.</li></ul><p>We can run our integration tests by using the <a href="http://maven.apache.org/surefire/maven-failsafe-plugin/" target="_blank">Maven Failsafe plugin</a>. We can configure it by following these steps:</p><ol><li>Create an execution that invokes the <em>integration-test</em> and <em>verify</em> goals of the Maven Failsafe plugin when we run our integration tests. The <em>integration-test</em> goal runs our integration tests in the <em>integration-test</em> phase of the Maven default lifecycle. The <em>verify</em> goal verifies the results of our integration test suite and fails the build if it finds failed integration tests.</li><li>Configure the execution to skip integration tests if the value of the <em>skip.integration.tests</em> property is true.</li></ol><p>We can configure the Maven Failsafe Plugin by adding the following XML to the <em>plugins</em> section of our POM file:</p><pre class="brush: xml; title: ; notranslate" title="">
&lt;plugin&gt;
    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
    &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;
    &lt;version&gt;2.18&lt;/version&gt;
    &lt;executions&gt;
        &lt;!--
            Invokes both the integration-test and the verify goals of the
            Failsafe Maven plugin
        --&gt;
        &lt;execution&gt;
            &lt;id&gt;integration-tests&lt;/id&gt;
            &lt;goals&gt;
                &lt;goal&gt;integration-test&lt;/goal&gt;
                &lt;goal&gt;verify&lt;/goal&gt;
            &lt;/goals&gt;
            &lt;configuration&gt;
                &lt;!--
                    Skips integration tests if the value of skip.integration.tests
                    property is true
                --&gt;
                &lt;skipTests&gt;${skip.integration.tests}&lt;/skipTests&gt;
            &lt;/configuration&gt;
        &lt;/execution&gt;
    &lt;/executions&gt;
&lt;/plugin&gt;
</pre><p>We can run our integration tests by using the command: <em>mvn clean verify -P integration-test</em>.</p><div class="note"> <strong>Additional Reading:</strong></p><ul><li><a href="http://maven.apache.org/surefire/maven-failsafe-plugin/usage.html" target="_blank">Maven Failsafe Plugin &#8211; Usage</a></li><li><a href="http://maven.apache.org/surefire/maven-failsafe-plugin/examples/skipping-tests.html" target="_blank">Maven Failsafe Plugin &#8211; Skipping Tests</a></li></ul></div><p>Let&#8217;s move on and summarize what we learned from this blog post.</p><h2>Summary</h2><p>This blog post has taught us three things:</p><ul><li>We can add extra source or resource directories to our Maven build by using the Build Helper Maven Plugin.</li><li>We can run our unit tests by using the Maven Surefire plugin.</li><li>We can run our integration tests by using the Maven Failsafe plugin.</li></ul><div class="note"> You can <a href="https://github.com/pkainulainen/maven-examples/tree/master/integration-testing" target="_blank">get the example application of this blog post from Github</a>.</div> <span id="tve_leads_end_content" style="display: block; visibility: hidden; border: 1px solid transparent;"></span><span style="display:none" class="tl-placeholder-f-type-post_footer"></span></div><div id="related-posts" class="post_box post_content"><h4 id="related-posts-title" class="headline">Related Posts</h4><div><div class="related-post"><div class="related_content"><p class="related-post-category"><a href="https://www.petrikainulainen.net/category/weekly/" alt="Weekly" title="Weekly">Weekly /</a></p><a href="https://www.petrikainulainen.net/weekly/java-testing-weekly-27-2018/" class="headline" rel="bookmark" title="Java Testing Weekly 27 / 2018">Java Testing Weekly 27 / 2018</a></div></div><div class="related-post"><div class="related_content"><p class="related-post-category"><a href="https://www.petrikainulainen.net/category/weekly/" alt="Weekly" title="Weekly">Weekly /</a></p><a href="https://www.petrikainulainen.net/weekly/java-testing-weekly-12-2016/" class="headline" rel="bookmark" title="Java Testing Weekly 12 / 2016">Java Testing Weekly 12 / 2016</a></div></div><div class="related-post"><div class="related_content"><p class="related-post-category"><a href="https://www.petrikainulainen.net/category/programming/testing/" alt="Testing" title="Testing">Testing /</a></p><a href="https://www.petrikainulainen.net/programming/testing/writing-clean-tests-naming-matters/" class="headline" rel="bookmark" title="Writing Clean Tests &#8211; Naming Matters">Writing Clean Tests &#8211; Naming Matters</a></div></div></div></div><section id="comments"><div class="comments_intro"><span class="num_comments">86</span> comments&#8230; <a href="#commentform" rel="nofollow">add one</a></div><ul class="comment_list"><li class="comment byuser comment-author-petrikainulainen bypostauthor even thread-even depth-1" id="comment-10067"><div class="comment-container"><div class="comment-byline"> <span class="comment_author">Petri</span> <a class="comment_permalink" href="#comment-10067" title="permalink to this comment" rel="nofollow">&#xf0c1;</a> <span class="comment_date">October 23, 2012, 16:33</span></div><div class="comment_text" id="comment-body-10067"><p>If we are writing integration tests for real life applications, we often have to use integration test specific resource files (E.g. DBUnit dataset files). We can do this by ensuring that the <em>add-test-resource</em> goal of Builder Helper Maven plugin is executed at Maven’s <em>generate-test-resources</em> lifecycle phase.</p><p>We do this by adding the following snippet to the <em>executions</em> section of the Builder Helper Maven plugin configuration:<br /> <code></p><pre>
&lt;execution&gt;
	&lt;id&gt;add-integration-test-resources&lt;/id&gt;
	&lt;phase&gt;generate-test-resources&lt;/phase&gt;
	&lt;goals&gt;
		&lt;goal&gt;add-test-resource&lt;/goal&gt;
	&lt;/goals&gt;
	&lt;configuration&gt;
		&lt;resources&gt;
			&lt;resource&gt;
				&lt;directory&gt;src/integration-test/resources&lt;/directory&gt;
			&lt;/resource&gt;
		&lt;/resources&gt;
	&lt;/configuration&gt;
&lt;/execution&gt;
</pre><p></code></p><p>This ensures that the directory <em>src/integration-test/resources</em> is added to our Maven build.</p></div> <a rel='nofollow' class='comment-reply-link' href='https://www.petrikainulainen.net/programming/maven/integration-testing-with-maven/?replytocom=10067#respond' onclick='return addComment.moveForm( "comment-body-10067", "10067", "respond", "2840" )' aria-label='Reply to Petri'>Reply</a></div><ul class="children"><li class="comment odd alt depth-2" id="comment-1279517"><div class="comment-container"><div class="comment-byline"> <span class="comment_author">Stephen Hartley</span> <a class="comment_permalink" href="#comment-1279517" title="permalink to this comment" rel="nofollow">&#xf0c1;</a> <span class="comment_date">October 2, 2015, 01:07</span></div><div class="comment_text" id="comment-body-1279517"><p>Great post, very helpful thanks.<br /> I have followed your advice and added src/integration-test/resources as a test resource as above.  However, this causes the integration test resources to be included in the production artifact (jar).  The integration sources are correctly excluded, so I don&#8217;t understand why the resources are not handled the same way.  Do you have any ideas?  I also asked this question on stackoverflow: <a href="http://stackoverflow.com/questions/32885696" rel="nofollow">http://stackoverflow.com/questions/32885696</a></p></div> <a rel='nofollow' class='comment-reply-link' href='https://www.petrikainulainen.net/programming/maven/integration-testing-with-maven/?replytocom=1279517#respond' onclick='return addComment.moveForm( "comment-body-1279517", "1279517", "respond", "2840" )' aria-label='Reply to Stephen Hartley'>Reply</a></div><ul class="children"><li class="comment byuser comment-author-petrikainulainen bypostauthor even depth-3" id="comment-1279876"><div class="comment-container"><div class="comment-byline"> <span class="comment_author">Petri</span> <a class="comment_permalink" href="#comment-1279876" title="permalink to this comment" rel="nofollow">&#xf0c1;</a> <span class="comment_date">October 2, 2015, 20:01</span></div><div class="comment_text" id="comment-body-1279876"><p>Hi Stephen,</p><p>When I packaged <a href="https://github.com/pkainulainen/maven-examples/tree/master/integration-testing" target="_blank" rel="nofollow">the example application of this blog post</a>, integration test resources weren&#8217;t added to the created jar file. Have you modified the configuration of the Maven Jar plugin?</p></div> <a rel='nofollow' class='comment-reply-link' href='https://www.petrikainulainen.net/programming/maven/integration-testing-with-maven/?replytocom=1279876#respond' onclick='return addComment.moveForm( "comment-body-1279876", "1279876", "respond", "2840" )' aria-label='Reply to Petri'>Reply</a></div><ul class="children"><li class="comment odd alt depth-4" id="comment-1279888"><div class="comment-container"><div class="comment-byline"> <span class="comment_author">Stephen Hartley</span> <a class="comment_permalink" href="#comment-1279888" title="permalink to this comment" rel="nofollow">&#xf0c1;</a> <span class="comment_date">October 2, 2015, 20:27</span></div><div class="comment_text" id="comment-body-1279888"><p>Hmm, will have to check this again as I&#8217;m using the maven shade plugin to build an &#8220;uber jar&#8221;.  Perhaps this is causing problems&#8230;</p><p>Thanks again!</p></div> <a rel='nofollow' class='comment-reply-link' href='https://www.petrikainulainen.net/programming/maven/integration-testing-with-maven/?replytocom=1279888#respond' onclick='return addComment.moveForm( "comment-body-1279888", "1279888", "respond", "2840" )' aria-label='Reply to Stephen Hartley'>Reply</a></div><ul class="children"><li class="comment byuser comment-author-petrikainulainen bypostauthor even depth-5" id="comment-1279937"><div class="comment-container"><div class="comment-byline"> <span class="comment_author">Petri</span> <a class="comment_permalink" href="#comment-1279937" title="permalink to this comment" rel="nofollow">&#xf0c1;</a> <span class="comment_date">October 2, 2015, 22:44</span></div><div class="comment_text" id="comment-body-1279937"><p>Hi Stephen,</p><p>That can definitely be a problem, but I noticed that there is a way to <a href="https://maven.apache.org/plugins/maven-shade-plugin/examples/includes-excludes.html" target="_blank" rel="nofollow">exclude files from the &#8220;uber jar&#8221;</a>. Can you exclude the integration test resources from it?</p></div></div></li></ul></li></ul></li></ul></li><li class="comment odd alt depth-2" id="comment-1702510"><div class="comment-container"><div class="comment-byline"> <span class="comment_author">Viktoriya</span> <a class="comment_permalink" href="#comment-1702510" title="permalink to this comment" rel="nofollow">&#xf0c1;</a> <span class="comment_date">August 12, 2018, 12:50</span></div><div class="comment_text" id="comment-body-1702510"><p>Hi)) I have a long time trying to figure out how to learn to write integration tests, but I do not succeed. I find a lot of articles on this topic, but my head was a mess &#8211; all mixed up. Please help.</p></div> <a rel='nofollow' class='comment-reply-link' href='https://www.petrikainulainen.net/programming/maven/integration-testing-with-maven/?replytocom=1702510#respond' onclick='return addComment.moveForm( "comment-body-1702510", "1702510", "respond", "2840" )' aria-label='Reply to Viktoriya'>Reply</a></div><ul class="children"><li class="comment byuser comment-author-petrikainulainen bypostauthor even depth-3" id="comment-1702511"><div class="comment-container"><div class="comment-byline"> <span class="comment_author">Petri</span> <a class="comment_permalink" href="#comment-1702511" title="permalink to this comment" rel="nofollow">&#xf0c1;</a> <span class="comment_date">August 12, 2018, 14:21</span></div><div class="comment_text" id="comment-body-1702511"><p>Hi,</p><p>What is the biggest problem that prevents  you from achieving your goal? Also, what framework (Spring, Java EE, and so on) are you using?</p></div> <a rel='nofollow' class='comment-reply-link' href='https://www.petrikainulainen.net/programming/maven/integration-testing-with-maven/?replytocom=1702511#respond' onclick='return addComment.moveForm( "comment-body-1702511", "1702511", "respond", "2840" )' aria-label='Reply to Petri'>Reply</a></div></li></ul></li></ul></li><li class="comment odd alt thread-odd thread-alt depth-1" id="comment-33215"><div class="comment-container"><div class="comment-byline"> <span class="comment_author">Celso Marques</span> <a class="comment_permalink" href="#comment-33215" title="permalink to this comment" rel="nofollow">&#xf0c1;</a> <span class="comment_date">February 11, 2013, 18:30</span></div><div class="comment_text" id="comment-body-33215"><p>Hey Petri,</p><p>Very nice article.<br /> It was very helpful for me!!!<br /> Thanks a lot.</p><p>Best Regards,<br /> Celso</p></div> <a rel='nofollow' class='comment-reply-link' href='https://www.petrikainulainen.net/programming/maven/integration-testing-with-maven/?replytocom=33215#respond' onclick='return addComment.moveForm( "comment-body-33215", "33215", "respond", "2840" )' aria-label='Reply to Celso Marques'>Reply</a></div><ul class="children"><li class="comment byuser comment-author-petrikainulainen bypostauthor even depth-2" id="comment-33285"><div class="comment-container"><div class="comment-byline"> <span class="comment_author">Petri</span> <a class="comment_permalink" href="#comment-33285" title="permalink to this comment" rel="nofollow">&#xf0c1;</a> <span class="comment_date">February 11, 2013, 20:35</span></div><div class="comment_text" id="comment-body-33285"><p>You are welcome! I am happy that I could help you out.</p></div> <a rel='nofollow' class='comment-reply-link' href='https://www.petrikainulainen.net/programming/maven/integration-testing-with-maven/?replytocom=33285#respond' onclick='return addComment.moveForm( "comment-body-33285", "33285", "respond", "2840" )' aria-label='Reply to Petri'>Reply</a></div></li></ul></li><li class="comment odd alt thread-even depth-1" id="comment-271379"><div class="comment-container"><div class="comment-byline"> <span class="comment_author">rang</span> <a class="comment_permalink" href="#comment-271379" title="permalink to this comment" rel="nofollow">&#xf0c1;</a> <span class="comment_date">August 29, 2013, 01:44</span></div><div class="comment_text" id="comment-body-271379"><p>Hi Petri,</p><p>I want to use Jacoco for web application code coverage.<br /> I think the above only works fine if you are running tests and Web Server on the same machine.</p><p>Currently my Jenkins run on one machine and my server is on another machines.Does it still work for that scenarior or what changes should I do for that.</p></div> <a rel='nofollow' class='comment-reply-link' href='https://www.petrikainulainen.net/programming/maven/integration-testing-with-maven/?replytocom=271379#respond' onclick='return addComment.moveForm( "comment-body-271379", "271379", "respond", "2840" )' aria-label='Reply to rang'>Reply</a></div><ul class="children"><li class="comment byuser comment-author-petrikainulainen bypostauthor even depth-2" id="comment-271533"><div class="comment-container"><div class="comment-byline"> <span class="comment_author">Petri</span> <a class="comment_permalink" href="#comment-271533" title="permalink to this comment" rel="nofollow">&#xf0c1;</a> <span class="comment_date">August 30, 2013, 08:57</span></div><div class="comment_text" id="comment-body-271533"><p>Hi Rang,</p><p>If you are referring to this <a href="http://www.petrikainulainen.net/programming/maven/creating-code-coverage-reports-for-unit-and-integration-tests-with-the-jacoco-maven-plugin/" rel="nofollow">blog post</a>, I have to confess that I have not tried running the example with Jenkins yet.</p><p>I am planning to do this at some point because I want to make sure that it works. In the meantime, you might want to take a look at this blog post which <a href="http://www.lordofthejars.com/2012/08/jacoco-jenkins-plugin.html" target="_blank" rel="nofollow">describes the usage of the JaCoCo Jenkins plugin</a>.</p></div> <a rel='nofollow' class='comment-reply-link' href='https://www.petrikainulainen.net/programming/maven/integration-testing-with-maven/?replytocom=271533#respond' onclick='return addComment.moveForm( "comment-body-271533", "271533", "respond", "2840" )' aria-label='Reply to Petri'>Reply</a></div></li><li class="comment odd alt depth-2" id="comment-273029"><div class="comment-container"><div class="comment-byline"> <span class="comment_author">Walt</span> <a class="comment_permalink" href="#comment-273029" title="permalink to this comment" rel="nofollow">&#xf0c1;</a> <span class="comment_date">September 12, 2013, 04:20</span></div><div class="comment_text" id="comment-body-273029"><p>Jacoco has a tcpmode option that can operate as either client or server. From the Jenkins CI &#8211; you can pull the coverage metrics and reset the collection. So as long as you start the server with the appropriate agent configuration you will be able to collect coverage data remotely (be advised ther is no security here &#8211; so one would only do this in a trusted environment)</p></div> <a rel='nofollow' class='comment-reply-link' href='https://www.petrikainulainen.net/programming/maven/integration-testing-with-maven/?replytocom=273029#respond' onclick='return addComment.moveForm( "comment-body-273029", "273029", "respond", "2840" )' aria-label='Reply to Walt'>Reply</a></div><ul class="children"><li class="comment byuser comment-author-petrikainulainen bypostauthor even depth-3" id="comment-273451"><div class="comment-container"><div class="comment-byline"> <span class="comment_author">Petri</span> <a class="comment_permalink" href="#comment-273451" title="permalink to this comment" rel="nofollow">&#xf0c1;</a> <span class="comment_date">September 15, 2013, 17:14</span></div><div class="comment_text" id="comment-body-273451"><p>Thanks for the tip! I will try this out when I have got some time to do it and write a new blog post about it.</p></div> <a rel='nofollow' class='comment-reply-link' href='https://www.petrikainulainen.net/programming/maven/integration-testing-with-maven/?replytocom=273451#respond' onclick='return addComment.moveForm( "comment-body-273451", "273451", "respond", "2840" )' aria-label='Reply to Petri'>Reply</a></div></li></ul></li></ul></li><li class="comment odd alt thread-odd thread-alt depth-1" id="comment-275656"><div class="comment-container"><div class="comment-byline"> <span class="comment_author">Declan Cox</span> <a class="comment_permalink" href="#comment-275656" title="permalink to this comment" rel="nofollow">&#xf0c1;</a> <span class="comment_date">October 3, 2013, 18:35</span></div><div class="comment_text" id="comment-body-275656"><p>Very helpful post. Thanks.</p></div> <a rel='nofollow' class='comment-reply-link' href='https://www.petrikainulainen.net/programming/maven/integration-testing-with-maven/?replytocom=275656#respond' onclick='return addComment.moveForm( "comment-body-275656", "275656", "respond", "2840" )' aria-label='Reply to Declan Cox'>Reply</a></div><ul class="children"><li class="comment byuser comment-author-petrikainulainen bypostauthor even depth-2" id="comment-275659"><div class="comment-container"><div class="comment-byline"> <span class="comment_author">Petri</span> <a class="comment_permalink" href="#comment-275659" title="permalink to this comment" rel="nofollow">&#xf0c1;</a> <span class="comment_date">October 3, 2013, 18:57</span></div><div class="comment_text" id="comment-body-275659"><p>You are welcome!</p></div> <a rel='nofollow' class='comment-reply-link' href='https://www.petrikainulainen.net/programming/maven/integration-testing-with-maven/?replytocom=275659#respond' onclick='return addComment.moveForm( "comment-body-275659", "275659", "respond", "2840" )' aria-label='Reply to Petri'>Reply</a></div></li></ul></li><li class="comment odd alt thread-even depth-1" id="comment-279675"><div class="comment-container"><div class="comment-byline"> <span class="comment_author">Chad Showalter</span> <a class="comment_permalink" href="#comment-279675" title="permalink to this comment" rel="nofollow">&#xf0c1;</a> <span class="comment_date">October 21, 2013, 18:09</span></div><div class="comment_text" id="comment-body-279675"><p>It would sure be nice if we didn&#8217;t have the magic name requirement (**/IT*.java) for excluding integration tests from the unit test build.  Do you know of a way to accomplish this?</p></div> <a rel='nofollow' class='comment-reply-link' href='https://www.petrikainulainen.net/programming/maven/integration-testing-with-maven/?replytocom=279675#respond' onclick='return addComment.moveForm( "comment-body-279675", "279675", "respond", "2840" )' aria-label='Reply to Chad Showalter'>Reply</a></div><ul class="children"><li class="comment byuser comment-author-petrikainulainen bypostauthor even depth-2" id="comment-279700"><div class="comment-container"><div class="comment-byline"> <span class="comment_author">Petri</span> <a class="comment_permalink" href="#comment-279700" title="permalink to this comment" rel="nofollow">&#xf0c1;</a> <span class="comment_date">October 21, 2013, 22:42</span></div><div class="comment_text" id="comment-body-279700"><p>Yes, that would be nice.</p><p>One option is to move the configuration of the Build Helper Maven plugin to the profile which you use to run the integration tests. This way the integration tests would be added to the classpath only when you use the correct profile which means that you can name your tests anyway you want.</p><p>I haven&#8217;t tried this out but it should work (in theory).</p></div> <a rel='nofollow' class='comment-reply-link' href='https://www.petrikainulainen.net/programming/maven/integration-testing-with-maven/?replytocom=279700#respond' onclick='return addComment.moveForm( "comment-body-279700", "279700", "respond", "2840" )' aria-label='Reply to Petri'>Reply</a></div><ul class="children"><li class="comment odd alt depth-3" id="comment-1467586"><div class="comment-container"><div class="comment-byline"> <span class="comment_author">Brooke Smith</span> <a class="comment_permalink" href="#comment-1467586" title="permalink to this comment" rel="nofollow">&#xf0c1;</a> <span class="comment_date">July 14, 2016, 03:40</span></div><div class="comment_text" id="comment-body-1467586"><p>The trouble with this is that maven includes `src/test/java` by default and there seems no way of preventing this.  So `**/IT*java` or similar is required.  After having used Gradle and returning to Maven, I&#8217;m understanding why many devs don&#8217;t like Maven.</p></div> <a rel='nofollow' class='comment-reply-link' href='https://www.petrikainulainen.net/programming/maven/integration-testing-with-maven/?replytocom=1467586#respond' onclick='return addComment.moveForm( "comment-body-1467586", "1467586", "respond", "2840" )' aria-label='Reply to Brooke Smith'>Reply</a></div><ul class="children"><li class="comment byuser comment-author-petrikainulainen bypostauthor even depth-4" id="comment-1467980"><div class="comment-container"><div class="comment-byline"> <span class="comment_author">Petri</span> <a class="comment_permalink" href="#comment-1467980" title="permalink to this comment" rel="nofollow">&#xf0c1;</a> <span class="comment_date">July 15, 2016, 18:49</span></div><div class="comment_text" id="comment-body-1467980"><p>Actually I found a technique that doesn&#8217;t require any naming conventions for unit and integration tests. Check out this blog post that <a href="http://www.javaworld.com/article/2074569/core-java/unit-and-integration-tests-with-maven-and-junit-categories.html" target="_blank" rel="nofollow">explains how you can create unit and integration tests suites by using JUnit categories</a>.</p></div> <a rel='nofollow' class='comment-reply-link' href='https://www.petrikainulainen.net/programming/maven/integration-testing-with-maven/?replytocom=1467980#respond' onclick='return addComment.moveForm( "comment-body-1467980", "1467980", "respond", "2840" )' aria-label='Reply to Petri'>Reply</a></div></li></ul></li></ul></li></ul></li><li class="comment odd alt thread-odd thread-alt depth-1" id="comment-357955"><div class="comment-container"><div class="comment-byline"> <span class="comment_author">Emiliano</span> <a class="comment_permalink" href="#comment-357955" title="permalink to this comment" rel="nofollow">&#xf0c1;</a> <span class="comment_date">February 7, 2014, 02:49</span></div><div class="comment_text" id="comment-body-357955"><p>Hello, great contribution Petri.<br /> I used this configuration in a multi module project and it worked ok.<br /> The only thing is that using Eclipse (Kepler + Maven 3) I found that the eclipse plugin had a problem with the execution declaration in the maven helper plugin.<br /> If this happens to anyone else, here are the three possible solutions:<br /> 1. In the quick fix (of eclipse) select the option of adding the ignore of the execution to the eclipse build in the eclipse project file. Even though it warns that it´s in an experimental fase, it works fine.<br /> 2. In the quick fix (of eclipse) select the option of adding the ignore to the eclipse build in the project POM.<br /> 3. Update the m2 lifecycle mapping connector. It connects to the marketplace and installs it. Restart eclipse and the problem is solved.</p><p>These three approaches are independent.</p><p>Hope this help to somebody.</p></div> <a rel='nofollow' class='comment-reply-link' href='https://www.petrikainulainen.net/programming/maven/integration-testing-with-maven/?replytocom=357955#respond' onclick='return addComment.moveForm( "comment-body-357955", "357955", "respond", "2840" )' aria-label='Reply to Emiliano'>Reply</a></div><ul class="children"><li class="comment byuser comment-author-petrikainulainen bypostauthor even depth-2" id="comment-358091"><div class="comment-container"><div class="comment-byline"> <span class="comment_author">Petri</span> <a class="comment_permalink" href="#comment-358091" title="permalink to this comment" rel="nofollow">&#xf0c1;</a> <span class="comment_date">February 7, 2014, 10:31</span></div><div class="comment_text" id="comment-body-358091"><p>Hi Emiliano,</p><p>It is nice to know that this tutorial was useful to you. Also, thank you for sharing the solutions for the problem you had with Eclipse and Build Helper Maven plugin. I am sure that this information is useful to someone!</p></div> <a rel='nofollow' class='comment-reply-link' href='https://www.petrikainulainen.net/programming/maven/integration-testing-with-maven/?replytocom=358091#respond' onclick='return addComment.moveForm( "comment-body-358091", "358091", "respond", "2840" )' aria-label='Reply to Petri'>Reply</a></div></li><li class="comment odd alt depth-2" id="comment-722381"><div class="comment-container"><div class="comment-byline"> <span class="comment_author">SilencerBY</span> <a class="comment_permalink" href="#comment-722381" title="permalink to this comment" rel="nofollow">&#xf0c1;</a> <span class="comment_date">July 8, 2014, 11:17</span></div><div class="comment_text" id="comment-body-722381"><p>Approaches 1 &amp; 2 deprive you of a properly setup .classpath (i.e. src/integration-test/java appears as a source folder in Eclipse).</p><p>BTW For the latest version of &#8216;m2e connector for build-helper-maven-plugin&#8217; see this thread <a href="http://comments.gmane.org/gmane.comp.ide.eclipse.plugins.m2eclipse.user/10082" rel="nofollow">http://comments.gmane.org/gmane.comp.ide.eclipse.plugins.m2eclipse.user/10082</a></p></div> <a rel='nofollow' class='comment-reply-link' href='https://www.petrikainulainen.net/programming/maven/integration-testing-with-maven/?replytocom=722381#respond' onclick='return addComment.moveForm( "comment-body-722381", "722381", "respond", "2840" )' aria-label='Reply to SilencerBY'>Reply</a></div><ul class="children"><li class="comment byuser comment-author-petrikainulainen bypostauthor even depth-3" id="comment-722614"><div class="comment-container"><div class="comment-byline"> <span class="comment_author">Petri</span> <a class="comment_permalink" href="#comment-722614" title="permalink to this comment" rel="nofollow">&#xf0c1;</a> <span class="comment_date">July 8, 2014, 16:06</span></div><div class="comment_text" id="comment-body-722614"><p>Thank you for leaving this comment! I am sure that it is useful for Eclipse users.</p></div> <a rel='nofollow' class='comment-reply-link' href='https://www.petrikainulainen.net/programming/maven/integration-testing-with-maven/?replytocom=722614#respond' onclick='return addComment.moveForm( "comment-body-722614", "722614", "respond", "2840" )' aria-label='Reply to Petri'>Reply</a></div></li></ul></li></ul></li><li class="comment odd alt thread-even depth-1" id="comment-368306"><div class="comment-container"><div class="comment-byline"> <span class="comment_author">Tej</span> <a class="comment_permalink" href="#comment-368306" title="permalink to this comment" rel="nofollow">&#xf0c1;</a> <span class="comment_date">February 19, 2014, 11:07</span></div><div class="comment_text" id="comment-body-368306"><p>Hello Petri,<br /> Very informative and nice article.</p><p>Need suggestion: I am planning to write integration test for my product.</p><p>Product have 3 different web applications with 3 different spring configuration. Currently, Integration test is written to load  just base configuration but I want to separate modules(applications) and write common integration test across modules ..so planing to create 4 modules like one for base and rest 3 like application specific modules so each specific module will load their own spring configuration while doing integration test.</p><p>What do you think will be best approach? Your help and views will be greatly appreciated.<br /> Many Thanks</p></div> <a rel='nofollow' class='comment-reply-link' href='https://www.petrikainulainen.net/programming/maven/integration-testing-with-maven/?replytocom=368306#respond' onclick='return addComment.moveForm( "comment-body-368306", "368306", "respond", "2840" )' aria-label='Reply to Tej'>Reply</a></div><ul class="children"><li class="comment byuser comment-author-petrikainulainen bypostauthor even depth-2" id="comment-368610"><div class="comment-container"><div class="comment-byline"> <span class="comment_author">Petri</span> <a class="comment_permalink" href="#comment-368610" title="permalink to this comment" rel="nofollow">&#xf0c1;</a> <span class="comment_date">February 19, 2014, 20:24</span></div><div class="comment_text" id="comment-body-368610"><p>Hi Tej,</p><p>I would configure the application context in each web application module (no configuration in the core module). The reason for this is that if you have to override the base configuration, you can run into really weird problems. I have to admit that my approach means that you probably have to create similar application context configuration classes / files in each web application module but I am ready to make that tradeoff.</p><p>Also, I would simply write integration tests for each web application. This way I could ensure that the base module is working correctly with each web application.</p><p>I hope that this answered to your question. If you have any additional questions, feel free to ask them!</p></div> <a rel='nofollow' class='comment-reply-link' href='https://www.petrikainulainen.net/programming/maven/integration-testing-with-maven/?replytocom=368610#respond' onclick='return addComment.moveForm( "comment-body-368610", "368610", "respond", "2840" )' aria-label='Reply to Petri'>Reply</a></div></li></ul></li><li class="comment odd alt thread-odd thread-alt depth-1" id="comment-410019"><div class="comment-container"><div class="comment-byline"> <span class="comment_author">Sachith</span> <a class="comment_permalink" href="#comment-410019" title="permalink to this comment" rel="nofollow">&#xf0c1;</a> <span class="comment_date">March 26, 2014, 16:29</span></div><div class="comment_text" id="comment-body-410019"><p>This is by far one of the best posts I&#8217;ve read on Integration testing. The content is very well presented too.</p><p>Keep up the great work.</p></div> <a rel='nofollow' class='comment-reply-link' href='https://www.petrikainulainen.net/programming/maven/integration-testing-with-maven/?replytocom=410019#respond' onclick='return addComment.moveForm( "comment-body-410019", "410019", "respond", "2840" )' aria-label='Reply to Sachith'>Reply</a></div><ul class="children"><li class="comment byuser comment-author-petrikainulainen bypostauthor even depth-2" id="comment-411457"><div class="comment-container"><div class="comment-byline"> <span class="comment_author">Petri</span> <a class="comment_permalink" href="#comment-411457" title="permalink to this comment" rel="nofollow">&#xf0c1;</a> <span class="comment_date">March 27, 2014, 09:47</span></div><div class="comment_text" id="comment-body-411457"><p>Thanks! I am happy to hear that this blog post was useful to you.</p></div> <a rel='nofollow' class='comment-reply-link' href='https://www.petrikainulainen.net/programming/maven/integration-testing-with-maven/?replytocom=411457#respond' onclick='return addComment.moveForm( "comment-body-411457", "411457", "respond", "2840" )' aria-label='Reply to Petri'>Reply</a></div></li></ul></li><li class="comment odd alt thread-even depth-1" id="comment-413492"><div class="comment-container"><div class="comment-byline"> <span class="comment_author">Afonso</span> <a class="comment_permalink" href="#comment-413492" title="permalink to this comment" rel="nofollow">&#xf0c1;</a> <span class="comment_date">March 28, 2014, 12:32</span></div><div class="comment_text" id="comment-body-413492"><p>Greetings,<br /> Very nice article! However, I am not quite being able to pull this off.<br /> &#8220;mvn clean verify -P integration-test&#8221; is correctly executing only the TestOneIT.java I have in my src/it/java folder</p><p>However, the &#8220;mvn clean test &#8221; is executing my jUnit tests inside src/test/java AND my TestOneIt.java  as well   :(  Like the if the ${skip.integration.tests}<br /> inside the maven-failsafe-plugin isn&#8217;t doing nothing.</p><p>Help?</p></div> <a rel='nofollow' class='comment-reply-link' href='https://www.petrikainulainen.net/programming/maven/integration-testing-with-maven/?replytocom=413492#respond' onclick='return addComment.moveForm( "comment-body-413492", "413492", "respond", "2840" )' aria-label='Reply to Afonso'>Reply</a></div><ul class="children"><li class="comment even depth-2" id="comment-413530"><div class="comment-container"><div class="comment-byline"> <span class="comment_author">Afonso</span> <a class="comment_permalink" href="#comment-413530" title="permalink to this comment" rel="nofollow">&#xf0c1;</a> <span class="comment_date">March 28, 2014, 12:55</span></div><div class="comment_text" id="comment-body-413530"><p>Sorry, my bad. the problem was the search pattern for the integration test files.<br /> It was just a matter of changing **/IT*.java to **/*IT*.java</p></div> <a rel='nofollow' class='comment-reply-link' href='https://www.petrikainulainen.net/programming/maven/integration-testing-with-maven/?replytocom=413530#respond' onclick='return addComment.moveForm( "comment-body-413530", "413530", "respond", "2840" )' aria-label='Reply to Afonso'>Reply</a></div><ul class="children"><li class="comment byuser comment-author-petrikainulainen bypostauthor odd alt depth-3" id="comment-414247"><div class="comment-container"><div class="comment-byline"> <span class="comment_author">Petri</span> <a class="comment_permalink" href="#comment-414247" title="permalink to this comment" rel="nofollow">&#xf0c1;</a> <span class="comment_date">March 28, 2014, 21:02</span></div><div class="comment_text" id="comment-body-414247"><p>No worries. Good to hear that you were able to solve your problem!</p></div> <a rel='nofollow' class='comment-reply-link' href='https://www.petrikainulainen.net/programming/maven/integration-testing-with-maven/?replytocom=414247#respond' onclick='return addComment.moveForm( "comment-body-414247", "414247", "respond", "2840" )' aria-label='Reply to Petri'>Reply</a></div></li></ul></li></ul></li><li class="comment even thread-odd thread-alt depth-1" id="comment-538556"><div class="comment-container"><div class="comment-byline"> <span class="comment_author">r.k</span> <a class="comment_permalink" href="#comment-538556" title="permalink to this comment" rel="nofollow">&#xf0c1;</a> <span class="comment_date">May 1, 2014, 10:03</span></div><div class="comment_text" id="comment-body-538556"><p>good one :)</p></div> <a rel='nofollow' class='comment-reply-link' href='https://www.petrikainulainen.net/programming/maven/integration-testing-with-maven/?replytocom=538556#respond' onclick='return addComment.moveForm( "comment-body-538556", "538556", "respond", "2840" )' aria-label='Reply to r.k'>Reply</a></div><ul class="children"><li class="comment byuser comment-author-petrikainulainen bypostauthor odd alt depth-2" id="comment-539518"><div class="comment-container"><div class="comment-byline"> <span class="comment_author">Petri</span> <a class="comment_permalink" href="#comment-539518" title="permalink to this comment" rel="nofollow">&#xf0c1;</a> <span class="comment_date">May 1, 2014, 18:08</span></div><div class="comment_text" id="comment-body-539518"><p>Thanks! I am happy to hear that you liked this blog post.</p></div> <a rel='nofollow' class='comment-reply-link' href='https://www.petrikainulainen.net/programming/maven/integration-testing-with-maven/?replytocom=539518#respond' onclick='return addComment.moveForm( "comment-body-539518", "539518", "respond", "2840" )' aria-label='Reply to Petri'>Reply</a></div></li></ul></li><li class="comment even thread-even depth-1" id="comment-603349"><div class="comment-container"><div class="comment-byline"> <span class="comment_author">Craig</span> <a class="comment_permalink" href="#comment-603349" title="permalink to this comment" rel="nofollow">&#xf0c1;</a> <span class="comment_date">May 15, 2014, 22:05</span></div><div class="comment_text" id="comment-body-603349"><p>Hi Petri, I&#8217;m working in a multi-module setting, I have:</p><p>pom.xml<br /> &#8211; persistence<br /> &#8211; app-services<br /> &#8211; rest</p><p>Each of these modules have both unit and integration tests, and I was wondering if I can just declare all of these profile settings in the parent pom? The reason I&#8217;m not sure is because of the filtering, the parent won&#8217;t have any resources to filter (it&#8217;s just a &#8220;pom&#8221;)</p><p>I know this is a candidate for TIAS, but I figured if you knew off the top of your head it would save me time mocking up a bunch of tests.</p></div> <a rel='nofollow' class='comment-reply-link' href='https://www.petrikainulainen.net/programming/maven/integration-testing-with-maven/?replytocom=603349#respond' onclick='return addComment.moveForm( "comment-body-603349", "603349", "respond", "2840" )' aria-label='Reply to Craig'>Reply</a></div><ul class="children"><li class="comment byuser comment-author-petrikainulainen bypostauthor odd alt depth-2" id="comment-603425"><div class="comment-container"><div class="comment-byline"> <span class="comment_author">Petri</span> <a class="comment_permalink" href="#comment-603425" title="permalink to this comment" rel="nofollow">&#xf0c1;</a> <span class="comment_date">May 15, 2014, 22:30</span></div><div class="comment_text" id="comment-body-603425"><p>Interesting question. If I remember correctly, I have never done this, but I thought that it would be a walk in the part. It seems that I was wrong. I was able to find three &#8220;competing&#8221; solutions to this problem:</p><ol><li><a href="http://stackoverflow.com/questions/1231561/how-to-share-common-properties-among-several-maven-projects/1265428#1265428" target="_blank" rel="nofollow">Extend the the Properties Maven plugin</a>.</li><li><a href="http://stackoverflow.com/a/1528295/313554" target="_blank" rel="nofollow">Specify the filter as an attached artifact in some project</a>.</li><li><a href="http://maven.40175.n5.nabble.com/Use-filter-files-from-parent-project-td126676.html" target="_blank" rel="nofollow">Specify the filter in the parent POM and specify relative path to it in the POM file of a child project</a>.</li></ol><p>I haven&#8217;t tested any of these solutions but if I would have to do it, I would start by using the third solution and move my way back up.</p></div> <a rel='nofollow' class='comment-reply-link' href='https://www.petrikainulainen.net/programming/maven/integration-testing-with-maven/?replytocom=603425#respond' onclick='return addComment.moveForm( "comment-body-603425", "603425", "respond", "2840" )' aria-label='Reply to Petri'>Reply</a></div></li></ul></li><li class="comment even thread-odd thread-alt depth-1" id="comment-716000"><div class="comment-container"><div class="comment-byline"> <span class="comment_author">Marco</span> <a class="comment_permalink" href="#comment-716000" title="permalink to this comment" rel="nofollow">&#xf0c1;</a> <span class="comment_date">July 2, 2014, 08:23</span></div><div class="comment_text" id="comment-body-716000"><p>Hi Petri and thank you for your very helpful tutorial!</p><p>I&#8217;m trying to implement integration-testing in the way you describe. In my situation I also need to keep test .xml context configuration files separated by ones of application. So I put them into /src/integration-test/resources/META-INF.</p><p>Looking in target folder I have found that: files in src/main/resources are placed under PROJECT/target/classes/, while files in /src/integration-test/resources/ are placed in PROJECT/target/test-classes</p><p>application.properties in PROJECT/target/classes is processed by maven plugins that replace ${placeholder} with value of ${profile}/config.properties, while application.properties in PROJECT/target/test-classes is not processed. So executing maven integration-test I get exception like:  Circular placeholder reference &#8216;db.driver&#8217; in property definitions.</p><p>Trying to put application.properties without placeholders in src/integration-test/resources seems than application.properties is not loaded by @PropertySource(&#8220;classpath:application.properties&#8221;). I get exception like: Access to DialectResolutionInfo cannot be null when &#8216;hibernate.dialect&#8217; not set.</p><p>So I&#8217;m wrong in setting my test context, or I need to modify my pom to reach my requirements?</p><p>Another question is, what if I want to execute/debug each single test from eclipse?</p><p>Thank you very much Petri!</p><p>Have a good day</p></div> <a rel='nofollow' class='comment-reply-link' href='https://www.petrikainulainen.net/programming/maven/integration-testing-with-maven/?replytocom=716000#respond' onclick='return addComment.moveForm( "comment-body-716000", "716000", "respond", "2840" )' aria-label='Reply to Marco'>Reply</a></div><ul class="children"><li class="comment byuser comment-author-petrikainulainen bypostauthor odd alt depth-2" id="comment-716150"><div class="comment-container"><div class="comment-byline"> <span class="comment_author">Petri</span> <a class="comment_permalink" href="#comment-716150" title="permalink to this comment" rel="nofollow">&#xf0c1;</a> <span class="comment_date">July 2, 2014, 11:04</span></div><div class="comment_text" id="comment-body-716150"><p>Hi Marco,</p><p>The idea behind the configuration explained here is that you can use the same properties file (<em>src/main/resources/application.properties</em>) in your application and in your tests because Maven selects the actual property values based on the active profile.</p><p>In other words,</p><ul><li>If the active profile is <em>dev</em> the placeholders found from the <em>src/main/resources/application.properties</em> file are replaced with the property values found from the <em>profiles/dev/config.properties</em> file.</li><li>If the active profile is <em>integration-test</em> the placeholders found from the <em>src/main/resources/application.properties</em> file are replaced with the property values found from the <em>profiles/integration-test/config.properties</em> file.</li></ul><p>This means that you don&#8217;t need to create a separate properties file to the <em>src/integration-test/resources</em> directory because you can use the properties file found from the <em>src/main/resources</em> directory. This file contains the test specific configuration as long as the correct profile (<em>integration-test</em>) is active.</p><p>You can the refer to this file in your test specific application context configuration file like this: &#8216;classpath:application.properties&#8217;.</p><p>On the other hand, if you want to create a separate properties file for your integration tests, you shouldn&#8217;t name it <em>application.properties</em> because if you do, the classpath has two files called <em>application.properties</em> and this can cause problems if you refer to them by using the notation: &#8216;classpath:application.properties&#8217; (the classloader loads one of them but you cannot know which one).</p><p>I hope that this shed some light to your properties file related problems.</p><p>I haven&#8217;t used Eclipse for six years but if I have to run / debug a single integration test in my IDE (IntelliJ Idea), I follow these steps:</p><ol><li>Compile the project when the <em>integration-test</em> profile is active. This is required so that the correct property values are filtered to the <em>application.properties</em> file.</li><li>Run the test in IDE. Typically I can just click the name of the test method with the right mouse button and select &#8216;Run test&#8217;. I assume that Eclipse is working in a similar way.</li></ol><p>I hope that this answered to your questions. If not, let me know!</p></div> <a rel='nofollow' class='comment-reply-link' href='https://www.petrikainulainen.net/programming/maven/integration-testing-with-maven/?replytocom=716150#respond' onclick='return addComment.moveForm( "comment-body-716150", "716150", "respond", "2840" )' aria-label='Reply to Petri'>Reply</a></div><ul class="children"><li class="comment even depth-3" id="comment-717053"><div class="comment-container"><div class="comment-byline"> <span class="comment_author">Marco</span> <a class="comment_permalink" href="#comment-717053" title="permalink to this comment" rel="nofollow">&#xf0c1;</a> <span class="comment_date">July 3, 2014, 08:10</span></div><div class="comment_text" id="comment-body-717053"><p>Thank you Petri for your reply!</p><p>I have tryed to use /src/main/resources/application.properties in conjunction with .xml configuration files in /src/intergation-test/resources/META-INF/*-test.xml (I have renamed them with test suffix) but context initialization fails: placeholders cannot be found.</p><p>Here is how test is configured:</p><pre>
<code>
@RunWith(SpringJUnit4ClassRunner.class)
@PropertySource("classpath:application.properties")
@ContextConfiguration(locations={
		"classpath:/META-INF/datasource_test.xml",
		"classpath:/META-INF/jpa-tx-config_test.xml"
		})
@TestExecutionListeners({ DependencyInjectionTestExecutionListener.class,
	DirtiesContextTestExecutionListener.class,
	TransactionalTestExecutionListener.class,
	DbUnitTestExecutionListener.class })
@DirtiesContext(classMode=ClassMode.AFTER_EACH_TEST_METHOD)
@ActiveProfiles("dev")
</code>
</pre><p>So application.properties can be found on target/classes, with other src/main/resources configuration files, while test configuration files can be found on target/test-classes.</p><p>Seems that if application.properties is not in same folder of xmls, placeholders cannot be resolved..</p></div> <a rel='nofollow' class='comment-reply-link' href='https://www.petrikainulainen.net/programming/maven/integration-testing-with-maven/?replytocom=717053#respond' onclick='return addComment.moveForm( "comment-body-717053", "717053", "respond", "2840" )' aria-label='Reply to Marco'>Reply</a></div><ul class="children"><li class="comment byuser comment-author-petrikainulainen bypostauthor odd alt depth-4" id="comment-717137"><div class="comment-container"><div class="comment-byline"> <span class="comment_author">Petri</span> <a class="comment_permalink" href="#comment-717137" title="permalink to this comment" rel="nofollow">&#xf0c1;</a> <span class="comment_date">July 3, 2014, 10:13</span></div><div class="comment_text" id="comment-body-717137"><p>Hi Marco,</p><p>I noticed that you use the <code>@PropertySource</code> annotation in your test class. I assume that you are trying to load the properties file which contains the property values used in your context configuration files. Am I correct?</p><p>The thing is that <a href="http://docs.spring.io/spring/docs/4.0.x/javadoc-api/org/springframework/context/annotation/PropertySource.html" target="_blank" rel="nofollow">the javadoc of the <code>@PropertySource</code> annotation</a> states that it works only if it is used together with the <code>@Configuration</code> annotation. In other words, you should use Java configuration.</p><p>If you want to use XML configuration, you can configure the used properties file by using <a href="http://docs.spring.io/spring/docs/4.0.x/spring-framework-reference/htmlsingle/#beans-factory-placeholderconfigurer" target="_blank" rel="nofollow">the <code>property-placeholder</code> tag of the <code>context</code> namespace</a>.</p><p>You could also verify that the property values are found from the <em>application.properties</em> file after it has been copied to the <em>target/classes</em> directory. If this is the case, you know that the problem isn&#8217;t in your build script. If the values are not found from this file, the problem is that Maven isn&#8217;t filtering the property values from your profile specific configuration files to the <em>application.properties</em> file.</p><p>By the way, if you cannot solve this problem, it would be helpful to see your build script / project. Is this possible or is it a work related project?</p></div> <a rel='nofollow' class='comment-reply-link' href='https://www.petrikainulainen.net/programming/maven/integration-testing-with-maven/?replytocom=717137#respond' onclick='return addComment.moveForm( "comment-body-717137", "717137", "respond", "2840" )' aria-label='Reply to Petri'>Reply</a></div><ul class="children"><li class="comment even depth-5" id="comment-717257"><div class="comment-container"><div class="comment-byline"> <span class="comment_author">Marco</span> <a class="comment_permalink" href="#comment-717257" title="permalink to this comment" rel="nofollow">&#xf0c1;</a> <span class="comment_date">July 3, 2014, 13:19</span></div><div class="comment_text" id="comment-body-717257"><p>Thank you Petri, you give me the right hint.</p><p>Just enable  in xml do the trick! So I hare removed @PropertySource annotation (that as documentation states works only if it is used together with the @Configuration annotation).</p><p>It also works using xml files in src/integration-testing/resources, preferred over that ones defined in src/main/resources</p><p>Thank you very much Petri!! Have a nice day</p></div></div></li><li class="comment odd alt depth-5" id="comment-718387"><div class="comment-container"><div class="comment-byline"> <span class="comment_author">Marco</span> <a class="comment_permalink" href="#comment-718387" title="permalink to this comment" rel="nofollow">&#xf0c1;</a> <span class="comment_date">July 4, 2014, 15:23</span></div><div class="comment_text" id="comment-body-718387"><p>It also works using xml files in src/integration-testing/resources, preferred over that ones defined in src/main/resources: not true because when I run application from my eclipse workspace xml files conflict.. but I have solved appending a suffix to each xml file.</p></div></div></li><li class="comment byuser comment-author-petrikainulainen bypostauthor even depth-5" id="comment-718434"><div class="comment-container"><div class="comment-byline"> <span class="comment_author">Petri</span> <a class="comment_permalink" href="#comment-718434" title="permalink to this comment" rel="nofollow">&#xf0c1;</a> <span class="comment_date">July 4, 2014, 16:27</span></div><div class="comment_text" id="comment-body-718434"><p>Hi,</p><p>It is good to hear that you were able to solve your problem.</p><p>I have always used the same XML configuration files for every profile (dev, test, prod, and integration-test), and moved the configuration to profile specific configuration files (although nowadays I use only Java configuration).</p><p>On the other hand, this might not always be good enough because you might want to use different beans when you run your integration tests. I have solved this problem by using <a href="http://docs.spring.io/spring/docs/4.0.x/spring-framework-reference/htmlsingle/#beans-definition-profiles" target="_blank" rel="nofollow">bean definition profiles (aka Spring profiles)</a>.</p></div></div></li></ul></li></ul></li></ul></li></ul></li><li class="comment odd alt thread-even depth-1" id="comment-780222"><div class="comment-container"><div class="comment-byline"> <span class="comment_author">Tom</span> <a class="comment_permalink" href="#comment-780222" title="permalink to this comment" rel="nofollow">&#xf0c1;</a> <span class="comment_date">August 25, 2014, 12:06</span></div><div class="comment_text" id="comment-body-780222"><p>Hi Petri,<br /> This solved the problem I was having, very good post, thanks a lot.<br /> Tip: add a bonus to this entry and show how to run tests in parellel, it&#8217;s very handy and explained here <a href="http://maven.apache.org/surefire/maven-failsafe-plugin/examples/junit.html" rel="nofollow">http://maven.apache.org/surefire/maven-failsafe-plugin/examples/junit.html</a>.</p><p>Cheers<br /> Tom</p></div> <a rel='nofollow' class='comment-reply-link' href='https://www.petrikainulainen.net/programming/maven/integration-testing-with-maven/?replytocom=780222#respond' onclick='return addComment.moveForm( "comment-body-780222", "780222", "respond", "2840" )' aria-label='Reply to Tom'>Reply</a></div><ul class="children"><li class="comment byuser comment-author-petrikainulainen bypostauthor even depth-2" id="comment-780600"><div class="comment-container"><div class="comment-byline"> <span class="comment_author">Petri</span> <a class="comment_permalink" href="#comment-780600" title="permalink to this comment" rel="nofollow">&#xf0c1;</a> <span class="comment_date">August 25, 2014, 20:33</span></div><div class="comment_text" id="comment-body-780600"><p>Hi Tom,</p><p>I am happy to hear that this blog post was useful. Also, I will update this blog post when I have got time to do it and include the tip you mentioned in it. Thanks for sharing.</p></div> <a rel='nofollow' class='comment-reply-link' href='https://www.petrikainulainen.net/programming/maven/integration-testing-with-maven/?replytocom=780600#respond' onclick='return addComment.moveForm( "comment-body-780600", "780600", "respond", "2840" )' aria-label='Reply to Petri'>Reply</a></div></li></ul></li><li class="comment odd alt thread-odd thread-alt depth-1" id="comment-780359"><div class="comment-container"><div class="comment-byline"> <span class="comment_author">Srinivas</span> <a class="comment_permalink" href="#comment-780359" title="permalink to this comment" rel="nofollow">&#xf0c1;</a> <span class="comment_date">August 25, 2014, 15:13</span></div><div class="comment_text" id="comment-body-780359"><p>Thanks a loooooot!!!<br /> you made my day!!!</p></div> <a rel='nofollow' class='comment-reply-link' href='https://www.petrikainulainen.net/programming/maven/integration-testing-with-maven/?replytocom=780359#respond' onclick='return addComment.moveForm( "comment-body-780359", "780359", "respond", "2840" )' aria-label='Reply to Srinivas'>Reply</a></div><ul class="children"><li class="comment byuser comment-author-petrikainulainen bypostauthor even depth-2" id="comment-780578"><div class="comment-container"><div class="comment-byline"> <span class="comment_author">Petri</span> <a class="comment_permalink" href="#comment-780578" title="permalink to this comment" rel="nofollow">&#xf0c1;</a> <span class="comment_date">August 25, 2014, 20:16</span></div><div class="comment_text" id="comment-body-780578"><p>You are welcome! I am happy to hear that this blog post was useful to you.</p></div> <a rel='nofollow' class='comment-reply-link' href='https://www.petrikainulainen.net/programming/maven/integration-testing-with-maven/?replytocom=780578#respond' onclick='return addComment.moveForm( "comment-body-780578", "780578", "respond", "2840" )' aria-label='Reply to Petri'>Reply</a></div></li></ul></li><li class="comment odd alt thread-even depth-1" id="comment-877518"><div class="comment-container"><div class="comment-byline"> <span class="comment_author">Krishna Singh</span> <a class="comment_permalink" href="#comment-877518" title="permalink to this comment" rel="nofollow">&#xf0c1;</a> <span class="comment_date">October 14, 2014, 12:03</span></div><div class="comment_text" id="comment-body-877518"><p>Dear Petri,<br /> I&#8217;m currently trying to generate code coverage reports Java Server for manual tests in a Maven project. I&#8217;m using eclipse with the JaCoCO plugin.</p><p>The reports are properly generated when using automated Junit tests.</p><p>So What I need is</p><p>1. Run the program<br /> 2. Perform some function on UI(Manual Testing)<br /> 3. Exit the program<br /> 4. Get a code coverage report for that run</p><p>So can suggest me some way to achieve it.<br /> Thanks in advance.</p><p>Best Regards,<br /> Krishna Singh</p></div> <a rel='nofollow' class='comment-reply-link' href='https://www.petrikainulainen.net/programming/maven/integration-testing-with-maven/?replytocom=877518#respond' onclick='return addComment.moveForm( "comment-body-877518", "877518", "respond", "2840" )' aria-label='Reply to Krishna Singh'>Reply</a></div><ul class="children"><li class="comment byuser comment-author-petrikainulainen bypostauthor even depth-2" id="comment-878546"><div class="comment-container"><div class="comment-byline"> <span class="comment_author">Petri</span> <a class="comment_permalink" href="#comment-878546" title="permalink to this comment" rel="nofollow">&#xf0c1;</a> <span class="comment_date">October 14, 2014, 23:31</span></div><div class="comment_text" id="comment-body-878546"><p>Hi Krishna,</p><p>I have never done this myself but <a href="/programming/maven/creating-code-coverage-reports-for-unit-and-integration-tests-with-the-jacoco-maven-plugin/#comment-333326" rel="nofollow">it should be possible</a>.</p></div> <a rel='nofollow' class='comment-reply-link' href='https://www.petrikainulainen.net/programming/maven/integration-testing-with-maven/?replytocom=878546#respond' onclick='return addComment.moveForm( "comment-body-878546", "878546", "respond", "2840" )' aria-label='Reply to Petri'>Reply</a></div></li></ul></li><li class="comment odd alt thread-odd thread-alt depth-1" id="comment-1006125"><div class="comment-container"><div class="comment-byline"> <span class="comment_author">Anonymous</span> <a class="comment_permalink" href="#comment-1006125" title="permalink to this comment" rel="nofollow">&#xf0c1;</a> <span class="comment_date">November 26, 2014, 08:41</span></div><div class="comment_text" id="comment-body-1006125"><p>Thanks a lot. It&#8217;s very helpful for me!</p></div> <a rel='nofollow' class='comment-reply-link' href='https://www.petrikainulainen.net/programming/maven/integration-testing-with-maven/?replytocom=1006125#respond' onclick='return addComment.moveForm( "comment-body-1006125", "1006125", "respond", "2840" )' aria-label='Reply to '>Reply</a></div><ul class="children"><li class="comment byuser comment-author-petrikainulainen bypostauthor even depth-2" id="comment-1006136"><div class="comment-container"><div class="comment-byline"> <span class="comment_author">Petri</span> <a class="comment_permalink" href="#comment-1006136" title="permalink to this comment" rel="nofollow">&#xf0c1;</a> <span class="comment_date">November 26, 2014, 08:56</span></div><div class="comment_text" id="comment-body-1006136"><p>You are welcome! I am happy to hear that this blog post was useful to you.</p></div> <a rel='nofollow' class='comment-reply-link' href='https://www.petrikainulainen.net/programming/maven/integration-testing-with-maven/?replytocom=1006136#respond' onclick='return addComment.moveForm( "comment-body-1006136", "1006136", "respond", "2840" )' aria-label='Reply to Petri'>Reply</a></div></li></ul></li><li class="comment odd alt thread-even depth-1" id="comment-1036499"><div class="comment-container"><div class="comment-byline"> <span class="comment_author">Pradeep Kumar</span> <a class="comment_permalink" href="#comment-1036499" title="permalink to this comment" rel="nofollow">&#xf0c1;</a> <span class="comment_date">December 8, 2014, 16:30</span></div><div class="comment_text" id="comment-body-1036499"><p>Hi,<br /> Thank you for this great article. I am completely new to this world but voila! i was able to work with the steps mentioned above. However I am facing 1 issue.<br /> maven while building is looking for config.properties under {basedir}\profiles\* than {basedir}\src\main\profiles.<br /> Any clue?</p></div> <a rel='nofollow' class='comment-reply-link' href='https://www.petrikainulainen.net/programming/maven/integration-testing-with-maven/?replytocom=1036499#respond' onclick='return addComment.moveForm( "comment-body-1036499", "1036499", "respond", "2840" )' aria-label='Reply to Pradeep Kumar'>Reply</a></div><ul class="children"><li class="comment byuser comment-author-petrikainulainen bypostauthor even depth-2" id="comment-1036523"><div class="comment-container"><div class="comment-byline"> <span class="comment_author">Petri</span> <a class="comment_permalink" href="#comment-1036523" title="permalink to this comment" rel="nofollow">&#xf0c1;</a> <span class="comment_date">December 8, 2014, 16:42</span></div><div class="comment_text" id="comment-body-1036523"><p>If you want to change the location of the <code>profiles</code> directory, you have to change the value of the <code>filter</code> element.</p><p>For example, if you want to put the profile specific configuration directories to the <code>src/main/profiles</code> directory, you have to use the following configuration:</p><pre>
<code>
&lt;filters&gt;
    &lt;filter&gt;src/main/profiles/${build.profile.id}/config.properties&lt;/filter&gt;
&lt;/filters&gt;
</code>
</pre><p>If you want to get more information about this, you should <a href="/programming/tips-and-tricks/creating-profile-specific-configuration-files-with-maven/" rel="nofollow">read this blog post</a>.</p></div> <a rel='nofollow' class='comment-reply-link' href='https://www.petrikainulainen.net/programming/maven/integration-testing-with-maven/?replytocom=1036523#respond' onclick='return addComment.moveForm( "comment-body-1036523", "1036523", "respond", "2840" )' aria-label='Reply to Petri'>Reply</a></div></li></ul></li><li class="comment odd alt thread-odd thread-alt depth-1" id="comment-1198344"><div class="comment-container"><div class="comment-byline"> <span class="comment_author">Fabrizio</span> <a class="comment_permalink" href="#comment-1198344" title="permalink to this comment" rel="nofollow">&#xf0c1;</a> <span class="comment_date">May 7, 2015, 15:50</span></div><div class="comment_text" id="comment-body-1198344"><p>Excellent work! Many thanks Petri.</p></div> <a rel='nofollow' class='comment-reply-link' href='https://www.petrikainulainen.net/programming/maven/integration-testing-with-maven/?replytocom=1198344#respond' onclick='return addComment.moveForm( "comment-body-1198344", "1198344", "respond", "2840" )' aria-label='Reply to Fabrizio'>Reply</a></div><ul class="children"><li class="comment byuser comment-author-petrikainulainen bypostauthor even depth-2" id="comment-1198392"><div class="comment-container"><div class="comment-byline"> <span class="comment_author">Petri</span> <a class="comment_permalink" href="#comment-1198392" title="permalink to this comment" rel="nofollow">&#xf0c1;</a> <span class="comment_date">May 7, 2015, 17:37</span></div><div class="comment_text" id="comment-body-1198392"><p>You are welcome! I am happy to hear that this blog post was useful to you.</p></div> <a rel='nofollow' class='comment-reply-link' href='https://www.petrikainulainen.net/programming/maven/integration-testing-with-maven/?replytocom=1198392#respond' onclick='return addComment.moveForm( "comment-body-1198392", "1198392", "respond", "2840" )' aria-label='Reply to Petri'>Reply</a></div></li></ul></li><li class="comment odd alt thread-even depth-1" id="comment-1217200"><div class="comment-container"><div class="comment-byline"> <span class="comment_author">Fedor</span> <a class="comment_permalink" href="#comment-1217200" title="permalink to this comment" rel="nofollow">&#xf0c1;</a> <span class="comment_date">June 2, 2015, 13:20</span></div><div class="comment_text" id="comment-body-1217200"><p>Thanks Petri for very useful article.</p><p>I&#8217;ve a question on integration tests: I need to run the same integration tests several times on a web application in different configurations. For example, a web app recognises <i>propertyA</i>, I want to integration test the web app with <i>propertyA=1234</i> and <i>propertyA=4321</i>.</p><p>How would you recommend to do that?</p></div> <a rel='nofollow' class='comment-reply-link' href='https://www.petrikainulainen.net/programming/maven/integration-testing-with-maven/?replytocom=1217200#respond' onclick='return addComment.moveForm( "comment-body-1217200", "1217200", "respond", "2840" )' aria-label='Reply to Fedor'>Reply</a></div><ul class="children"><li class="comment byuser comment-author-petrikainulainen bypostauthor even depth-2" id="comment-1217490"><div class="comment-container"><div class="comment-byline"> <span class="comment_author">Petri</span> <a class="comment_permalink" href="#comment-1217490" title="permalink to this comment" rel="nofollow">&#xf0c1;</a> <span class="comment_date">June 2, 2015, 23:16</span></div><div class="comment_text" id="comment-body-1217490"><p>Hi Fedor,</p><p>Thank you for your kind words. I really appreciate them.</p><p>Do you think that you could create a controller method that is used to set the value of the <code>propertyA</code> before your integration tests are run? Of course you would have to ensure that this method can be invoked only when the integration tests are run, but this shouldn’t be a problem.</p><p>I know that this sounds like a hack, but if you want to change the value of that property without using different Maven profiles for each legal property value, this is the easiest way to do it. If you find another way, let me know!</p></div> <a rel='nofollow' class='comment-reply-link' href='https://www.petrikainulainen.net/programming/maven/integration-testing-with-maven/?replytocom=1217490#respond' onclick='return addComment.moveForm( "comment-body-1217490", "1217490", "respond", "2840" )' aria-label='Reply to Petri'>Reply</a></div></li></ul></li><li class="comment odd alt thread-odd thread-alt depth-1" id="comment-1217941"><div class="comment-container"><div class="comment-byline"> <span class="comment_author">Markus</span> <a class="comment_permalink" href="#comment-1217941" title="permalink to this comment" rel="nofollow">&#xf0c1;</a> <span class="comment_date">June 3, 2015, 13:34</span></div><div class="comment_text" id="comment-body-1217941"><p>Verify helpful and well written. Thanks!</p></div> <a rel='nofollow' class='comment-reply-link' href='https://www.petrikainulainen.net/programming/maven/integration-testing-with-maven/?replytocom=1217941#respond' onclick='return addComment.moveForm( "comment-body-1217941", "1217941", "respond", "2840" )' aria-label='Reply to Markus'>Reply</a></div><ul class="children"><li class="comment byuser comment-author-petrikainulainen bypostauthor even depth-2" id="comment-1218051"><div class="comment-container"><div class="comment-byline"> <span class="comment_author">Petri</span> <a class="comment_permalink" href="#comment-1218051" title="permalink to this comment" rel="nofollow">&#xf0c1;</a> <span class="comment_date">June 3, 2015, 17:34</span></div><div class="comment_text" id="comment-body-1218051"><p>You are welcome! I am happy to hear that this blog post was useful to you.</p></div> <a rel='nofollow' class='comment-reply-link' href='https://www.petrikainulainen.net/programming/maven/integration-testing-with-maven/?replytocom=1218051#respond' onclick='return addComment.moveForm( "comment-body-1218051", "1218051", "respond", "2840" )' aria-label='Reply to Petri'>Reply</a></div></li></ul></li><li class="comment odd alt thread-even depth-1" id="comment-1232129"><div class="comment-container"><div class="comment-byline"> <span class="comment_author">Adam</span> <a class="comment_permalink" href="#comment-1232129" title="permalink to this comment" rel="nofollow">&#xf0c1;</a> <span class="comment_date">June 24, 2015, 16:42</span></div><div class="comment_text" id="comment-body-1232129"><p>Hi Petri,<br /> thanks for the excellent article. Are you using JUnit 4.8? If so, there is a nice way to filter using a JUnit category and an annotation: <a href="http://www.java-tutorial.ch/maven/maven-integration-test" rel="nofollow">http://www.java-tutorial.ch/maven/maven-integration-test</a></p><p>I also decided to keep integration testing associated with the maven integration-test lifecycle phase. The only downside is that it runs the test phase first, but that can be inhibited using a variable like so:</p><p> org.apache.maven.plugins<br /> maven-surefire-plugin<br /> 2.17</p><p> ${skip.unit.tests}<br /> com.my.junit.marker.IntegrationTest</p></div> <a rel='nofollow' class='comment-reply-link' href='https://www.petrikainulainen.net/programming/maven/integration-testing-with-maven/?replytocom=1232129#respond' onclick='return addComment.moveForm( "comment-body-1232129", "1232129", "respond", "2840" )' aria-label='Reply to Adam'>Reply</a></div><ul class="children"><li class="comment byuser comment-author-petrikainulainen bypostauthor even depth-2" id="comment-1232324"><div class="comment-container"><div class="comment-byline"> <span class="comment_author">Petri</span> <a class="comment_permalink" href="#comment-1232324" title="permalink to this comment" rel="nofollow">&#xf0c1;</a> <span class="comment_date">June 24, 2015, 23:37</span></div><div class="comment_text" id="comment-body-1232324"><p>Hi Adam,</p><p>Thank you for sharing this. Although I prefer keeping my integration and unit tests in different directories, the <code>@Category</code> annotation helps me to get rid of the stupid <code>IT</code> prefix (or suffix)!</p><p>Also, I think that it might me help to implement a few other use cases as well. I have to take a closer look at it and figure out if I can create tests that are invoked only when the build is run on a CI server.</p></div> <a rel='nofollow' class='comment-reply-link' href='https://www.petrikainulainen.net/programming/maven/integration-testing-with-maven/?replytocom=1232324#respond' onclick='return addComment.moveForm( "comment-body-1232324", "1232324", "respond", "2840" )' aria-label='Reply to Petri'>Reply</a></div></li></ul></li><li class="comment odd alt thread-odd thread-alt depth-1" id="comment-1385032"><div class="comment-container"><div class="comment-byline"> <span class="comment_author">SetNug</span> <a class="comment_permalink" href="#comment-1385032" title="permalink to this comment" rel="nofollow">&#xf0c1;</a> <span class="comment_date">March 4, 2016, 14:53</span></div><div class="comment_text" id="comment-body-1385032"><p>Hi Petri,</p><p>Thank you for your tutorial.</p><p>In my case I have OSGI plugin tests and unit tests in one OSGI fragment project, but I want to execute them separately using approach in your tutorial. So basically between tycho-surefire and maven-surefire plugin. Is it possible ?</p><p>Thanks &amp; Regards<br /> SetNug</p></div> <a rel='nofollow' class='comment-reply-link' href='https://www.petrikainulainen.net/programming/maven/integration-testing-with-maven/?replytocom=1385032#respond' onclick='return addComment.moveForm( "comment-body-1385032", "1385032", "respond", "2840" )' aria-label='Reply to SetNug'>Reply</a></div><ul class="children"><li class="comment byuser comment-author-petrikainulainen bypostauthor even depth-2" id="comment-1385687"><div class="comment-container"><div class="comment-byline"> <span class="comment_author">Petri</span> <a class="comment_permalink" href="#comment-1385687" title="permalink to this comment" rel="nofollow">&#xf0c1;</a> <span class="comment_date">March 5, 2016, 10:48</span></div><div class="comment_text" id="comment-body-1385687"><p>Hi SetNug,</p><p>Unfortunately I don&#8217;t know the answer to your question since I have never used OSGI :( However, I found some resources that might be useful to you:</p><ul><li><a href="http://mukis.de/pages/simple-junit-tests-with-tycho-and-surefire/" target="_blank" rel="nofollow">Simple JUnit Tests with Tycho and Surefire</a></li><li><a href="http://stackoverflow.com/questions/28721925/is-it-possible-to-configure-tycho-surefire-to-run-in-the-test-phase" target="_blank" rel="nofollow">StackOverflow: Is it possible to configure tycho-surefire to run in the test phase?</a></li><li><a href="https://wiki.eclipse.org/Tycho/Testing_with_Surefire" target="_blank" rel="nofollow">Tycho/Testing with Surefire</a></li></ul><p>I hope that these resources help you to solve your problem.</p></div> <a rel='nofollow' class='comment-reply-link' href='https://www.petrikainulainen.net/programming/maven/integration-testing-with-maven/?replytocom=1385687#respond' onclick='return addComment.moveForm( "comment-body-1385687", "1385687", "respond", "2840" )' aria-label='Reply to Petri'>Reply</a></div><ul class="children"><li class="comment odd alt depth-3" id="comment-1386345"><div class="comment-container"><div class="comment-byline"> <span class="comment_author">SetNug</span> <a class="comment_permalink" href="#comment-1386345" title="permalink to this comment" rel="nofollow">&#xf0c1;</a> <span class="comment_date">March 6, 2016, 07:45</span></div><div class="comment_text" id="comment-body-1386345"><p>Hi Petri,</p><p>Thank you very much. Your links are very helpful.</p><p>Regards,<br /> Setya</p></div> <a rel='nofollow' class='comment-reply-link' href='https://www.petrikainulainen.net/programming/maven/integration-testing-with-maven/?replytocom=1386345#respond' onclick='return addComment.moveForm( "comment-body-1386345", "1386345", "respond", "2840" )' aria-label='Reply to SetNug'>Reply</a></div></li></ul></li></ul></li><li class="comment even thread-even depth-1" id="comment-1394249"><div class="comment-container"><div class="comment-byline"> <span class="comment_author">Sourabh</span> <a class="comment_permalink" href="#comment-1394249" title="permalink to this comment" rel="nofollow">&#xf0c1;</a> <span class="comment_date">March 17, 2016, 13:36</span></div><div class="comment_text" id="comment-body-1394249"><p>Hi Petri,</p><p>Great article, it really helped a lot.</p><p>I have more problem statement where we have two different standalone projects ( Project A and Project B )<br /> Project A is a application which has all the code and can be deployed on different servers.<br /> Project B have all the tests written which will test Project A</p><p>I want to find a way such that i can find Code coverage for project A by running tests from project B. ( Both the projects are maven projects )</p></div> <a rel='nofollow' class='comment-reply-link' href='https://www.petrikainulainen.net/programming/maven/integration-testing-with-maven/?replytocom=1394249#respond' onclick='return addComment.moveForm( "comment-body-1394249", "1394249", "respond", "2840" )' aria-label='Reply to Sourabh'>Reply</a></div><ul class="children"><li class="comment byuser comment-author-petrikainulainen bypostauthor odd alt depth-2" id="comment-1396159"><div class="comment-container"><div class="comment-byline"> <span class="comment_author">Petri</span> <a class="comment_permalink" href="#comment-1396159" title="permalink to this comment" rel="nofollow">&#xf0c1;</a> <span class="comment_date">March 19, 2016, 18:53</span></div><div class="comment_text" id="comment-body-1396159"><p>I have written a blog post that describes how you can <a href="/programming/maven/creating-code-coverage-reports-for-unit-and-integration-tests-with-the-jacoco-maven-plugin/" rel="nofollow">create a code coverage report for unit and integration tests</a> by using the JaCoCo Maven plugin. That post uses a bit old version of the JaCoCo Maven plugin, but the newer version has some goals that could help you out.</p></div> <a rel='nofollow' class='comment-reply-link' href='https://www.petrikainulainen.net/programming/maven/integration-testing-with-maven/?replytocom=1396159#respond' onclick='return addComment.moveForm( "comment-body-1396159", "1396159", "respond", "2840" )' aria-label='Reply to Petri'>Reply</a></div></li></ul></li><li class="comment even thread-odd thread-alt depth-1" id="comment-1418413"><div class="comment-container"><div class="comment-byline"> <span class="comment_author">Richards</span> <a class="comment_permalink" href="#comment-1418413" title="permalink to this comment" rel="nofollow">&#xf0c1;</a> <span class="comment_date">April 14, 2016, 09:29</span></div><div class="comment_text" id="comment-body-1418413"><p>Hi,</p><p>I am relatively new to maven and TDD. I am reading the book &#8211; Growing Object Oriented Software Guided by Tests. The project explained in the book keeps unit tests, integration tests and end-to-end tests (all in java) in three different test-source directories. The project explained in the book uses Ant to build the project. I am exploring ways to accomplish the same in maven. That is how I ran into your post about integration testing with maven.</p><p>I followed most of the items described in this post. But I would like to clarify the following items with you:<br /> 1. Is it mandatory to create profile specific config files? Will they be used only when there are profile specific settings that need to be applied?<br /> 2. If I want to add one more profile for end-to-end tests, use a separate test directory for them and run them independent of unit and integration tests, will I be able to achieve it using maven? If I can perform this task using maven, can you please give me some tips to accomplish it?</p><p>Thanks,<br /> Richards.</p></div> <a rel='nofollow' class='comment-reply-link' href='https://www.petrikainulainen.net/programming/maven/integration-testing-with-maven/?replytocom=1418413#respond' onclick='return addComment.moveForm( "comment-body-1418413", "1418413", "respond", "2840" )' aria-label='Reply to Richards'>Reply</a></div><ul class="children"><li class="comment odd alt depth-2" id="comment-1419076"><div class="comment-container"><div class="comment-byline"> <span class="comment_author">Richards</span> <a class="comment_permalink" href="#comment-1419076" title="permalink to this comment" rel="nofollow">&#xf0c1;</a> <span class="comment_date">April 15, 2016, 06:09</span></div><div class="comment_text" id="comment-body-1419076"><p>Hi,</p><p>I think I should address my second query in a different manner. May be I should treat end-to-end tests as integration tests itself. I think I should look at the possibility of adding end-to-end tests into a separate test-source directory but allow them to execute along with integration tests. Is there a better approach?</p><p>Thanks,<br /> Richards.</p></div> <a rel='nofollow' class='comment-reply-link' href='https://www.petrikainulainen.net/programming/maven/integration-testing-with-maven/?replytocom=1419076#respond' onclick='return addComment.moveForm( "comment-body-1419076", "1419076", "respond", "2840" )' aria-label='Reply to Richards'>Reply</a></div><ul class="children"><li class="comment byuser comment-author-petrikainulainen bypostauthor even depth-3" id="comment-1419141"><div class="comment-container"><div class="comment-byline"> <span class="comment_author">Petri</span> <a class="comment_permalink" href="#comment-1419141" title="permalink to this comment" rel="nofollow">&#xf0c1;</a> <span class="comment_date">April 15, 2016, 08:27</span></div><div class="comment_text" id="comment-body-1419141"><p>Hi Richards,</p><p>I am sorry that it took me some time to answer to your comment.</p><blockquote><p> Is it mandatory to create profile specific config files? Will they be used only when there are profile specific settings that need to be applied?</p></blockquote><p>It is not mandatory to create these configuration files, but if you decide to not create them, you shouldn&#8217;t configure them in your POM file. Otherwise your build will fail because Maven cannot find the missing the configuration files.</p><blockquote><p> I think I should look at the possibility of adding end-to-end tests into a separate test-source directory but allow them to execute along with integration tests. Is there a better approach?</p></blockquote><p>You can definitely run end-to-end tests with Maven even if you have unit and integration tests as well. Your second question (running e-2-e tests together with integration tests) is quite interesting because I think that a good build script (and test suite) gives you the possibility to select the invoked tests. This is important because you want to run different tests in different situations.</p><p>For example, if you are a developer, you might want to run only unit tests because integration and e-2-e tests are slow.</p><p>On the other hand, if you are building the project on CI server, you can create different builds (every commit, daily etc) and select the invoked tests based on the build type. For example, it might no be practical to run all tests for every commit because getting the feedback takes too long.</p><p>If you have any additional questions, don&#8217;t hesitate to ask them.</p></div> <a rel='nofollow' class='comment-reply-link' href='https://www.petrikainulainen.net/programming/maven/integration-testing-with-maven/?replytocom=1419141#respond' onclick='return addComment.moveForm( "comment-body-1419141", "1419141", "respond", "2840" )' aria-label='Reply to Petri'>Reply</a></div><ul class="children"><li class="comment odd alt depth-4" id="comment-1422726"><div class="comment-container"><div class="comment-byline"> <span class="comment_author">Richards</span> <a class="comment_permalink" href="#comment-1422726" title="permalink to this comment" rel="nofollow">&#xf0c1;</a> <span class="comment_date">April 18, 2016, 12:17</span></div><div class="comment_text" id="comment-body-1422726"><p>Hi Petri,</p><p>Thank you for your reply.</p><p>&#8220;You can definitely run end-to-end tests with Maven even if you have unit and integration tests as well.&#8221;</p><p>&#8211; If my end-to-end tests are also written in java (for a simple application) and stored under /src/java/e2e/ directory, can you please tell me how they can be executed independent of unit and integration tests? I am not sure how to configure maven-surefire-plugin and maven-failsafe-plugin to meet this requirement.</p><p>Thanks,<br /> Richards.</p></div> <a rel='nofollow' class='comment-reply-link' href='https://www.petrikainulainen.net/programming/maven/integration-testing-with-maven/?replytocom=1422726#respond' onclick='return addComment.moveForm( "comment-body-1422726", "1422726", "respond", "2840" )' aria-label='Reply to Richards'>Reply</a></div><ul class="children"><li class="comment byuser comment-author-petrikainulainen bypostauthor even depth-5" id="comment-1423020"><div class="comment-container"><div class="comment-byline"> <span class="comment_author">Petri</span> <a class="comment_permalink" href="#comment-1423020" title="permalink to this comment" rel="nofollow">&#xf0c1;</a> <span class="comment_date">April 18, 2016, 18:33</span></div><div class="comment_text" id="comment-body-1423020"><p>Hi Richards,</p><p>Do you want to run your integration tests and end-to-end tests at the same time, or do you want to create different profiles for them (i.e. it is possible to run either integration or end-to-end tests)?</p></div></div></li><li class="comment odd alt depth-5" id="comment-1424612"><div class="comment-container"><div class="comment-byline"> <span class="comment_author">Richards</span> <a class="comment_permalink" href="#comment-1424612" title="permalink to this comment" rel="nofollow">&#xf0c1;</a> <span class="comment_date">April 20, 2016, 08:27</span></div><div class="comment_text" id="comment-body-1424612"><p>Hi Petri,</p><p>Sorry for the delay to respond to your question.<br /> I want to run integration tests and end-to-end tests separately. Yes, I would like to create different profiles for them.</p><p>Thanks,<br /> Richards.</p></div></div></li><li class="comment byuser comment-author-petrikainulainen bypostauthor even depth-5" id="comment-1426093"><div class="comment-container"><div class="comment-byline"> <span class="comment_author">Petri</span> <a class="comment_permalink" href="#comment-1426093" title="permalink to this comment" rel="nofollow">&#xf0c1;</a> <span class="comment_date">April 21, 2016, 23:14</span></div><div class="comment_text" id="comment-body-1426093"><p>Hi Richards,</p><p>If I remember correctly, you can use a profile specific plugin configuration for this purpose. You can do this by following these steps:</p><ol><li>Configure the source directory of your end-to-end tests.</li><li>Create a separate Maven profile for end-to-end tests.</li><li>Create profile specific Failsafe plugin configurations for integration test and end-to-end test profiles. Remember to change the test class suffix (you can use E2ETest or something like that).</li></ol><p>If you don&#8217;t know how to do this, let me know and I might write a blog post about this.</p></div></div></li></ul></li></ul></li></ul></li></ul></li><li class="comment odd alt thread-even depth-1" id="comment-1447855"><div class="comment-container"><div class="comment-byline"> <span class="comment_author">Stephane</span> <a class="comment_permalink" href="#comment-1447855" title="permalink to this comment" rel="nofollow">&#xf0c1;</a> <span class="comment_date">May 26, 2016, 17:18</span></div><div class="comment_text" id="comment-body-1447855"><p>Is a test requiring an external database and no web layer considered an integration test ? Or does it need to involve a web layer to be considered an integration test ?</p></div> <a rel='nofollow' class='comment-reply-link' href='https://www.petrikainulainen.net/programming/maven/integration-testing-with-maven/?replytocom=1447855#respond' onclick='return addComment.moveForm( "comment-body-1447855", "1447855", "respond", "2840" )' aria-label='Reply to Stephane'>Reply</a></div><ul class="children"><li class="comment byuser comment-author-petrikainulainen bypostauthor even depth-2" id="comment-1448167"><div class="comment-container"><div class="comment-byline"> <span class="comment_author">Petri</span> <a class="comment_permalink" href="#comment-1448167" title="permalink to this comment" rel="nofollow">&#xf0c1;</a> <span class="comment_date">May 27, 2016, 08:32</span></div><div class="comment_text" id="comment-body-1448167"><p>Hi Stephane,</p><p>I think that you just stirred a hornet&#8217;s nest. There are a lot of people out there who cannot agree what these terms (unit and integration test) means. That being said, I think that the test you described is an integration test because it uses a database (either an external database or an in-memory database).</p></div> <a rel='nofollow' class='comment-reply-link' href='https://www.petrikainulainen.net/programming/maven/integration-testing-with-maven/?replytocom=1448167#respond' onclick='return addComment.moveForm( "comment-body-1448167", "1448167", "respond", "2840" )' aria-label='Reply to Petri'>Reply</a></div></li></ul></li><li class="comment odd alt thread-odd thread-alt depth-1" id="comment-1467589"><div class="comment-container"><div class="comment-byline"> <span class="comment_author">Brooke Smith</span> <a class="comment_permalink" href="#comment-1467589" title="permalink to this comment" rel="nofollow">&#xf0c1;</a> <span class="comment_date">July 14, 2016, 04:08</span></div><div class="comment_text" id="comment-body-1467589"><p>Hi Petri,</p><p>Great article &#8211; very helpful!</p><p>The solution you presented prevents `-DskipTests` from skipping all tests.  You need to do `-Dskip.unit.tests -Dskip.integration.tests`.  Do you know of a way to get the former working?  I played with this for a while and gave up.</p><p>My solution was to not use the two switches.  And I added an `**/IT*java` to the Unit Tests surefire and added a dummy `surefire` with `**/*java` to the integration-tests profile to prevent the unit tests running.  Another difference is that my unit test surefire was outside of any profile &#8211; I&#8217;m not sure if this would make a difference in the case of your multi-profile configuration.</p><p>Cheers,</p><p>Brooke</p></div> <a rel='nofollow' class='comment-reply-link' href='https://www.petrikainulainen.net/programming/maven/integration-testing-with-maven/?replytocom=1467589#respond' onclick='return addComment.moveForm( "comment-body-1467589", "1467589", "respond", "2840" )' aria-label='Reply to Brooke Smith'>Reply</a></div><ul class="children"><li class="comment byuser comment-author-petrikainulainen bypostauthor even depth-2" id="comment-1468741"><div class="comment-container"><div class="comment-byline"> <span class="comment_author">Petri</span> <a class="comment_permalink" href="#comment-1468741" title="permalink to this comment" rel="nofollow">&#xf0c1;</a> <span class="comment_date">July 18, 2016, 23:34</span></div><div class="comment_text" id="comment-body-1468741"><p>Hi Brooke,</p><p>Ah. I have to admit that I have never thought of that because I haven&#8217;t needed that &#8220;feature&#8221;. I would probably just create a profile called: <em>skipTests</em> and configure it to skip both unit and integration tests (set the values of the <code>skip.integration.tests</code> and <code>skip.unit.tests</code> properties to <code>true</code>). This way I wouldn&#8217;t have to make other changes to the configuration. However, I admit that I have no idea if this is the best way to skip all tests in this case.</p></div> <a rel='nofollow' class='comment-reply-link' href='https://www.petrikainulainen.net/programming/maven/integration-testing-with-maven/?replytocom=1468741#respond' onclick='return addComment.moveForm( "comment-body-1468741", "1468741", "respond", "2840" )' aria-label='Reply to Petri'>Reply</a></div></li></ul></li><li class="comment odd alt thread-even depth-1" id="comment-1486446"><div class="comment-container"><div class="comment-byline"> <span class="comment_author">Prasad Shitole</span> <a class="comment_permalink" href="#comment-1486446" title="permalink to this comment" rel="nofollow">&#xf0c1;</a> <span class="comment_date">September 13, 2016, 13:12</span></div><div class="comment_text" id="comment-body-1486446"><p>Hey Petri,</p><p>Can I configure Jacoco in Tomcat. I tried searching all the available information on google, but there is no data available which gives stepwise information to configure JaCoCo with Tomcat. Can you please help?</p></div> <a rel='nofollow' class='comment-reply-link' href='https://www.petrikainulainen.net/programming/maven/integration-testing-with-maven/?replytocom=1486446#respond' onclick='return addComment.moveForm( "comment-body-1486446", "1486446", "respond", "2840" )' aria-label='Reply to Prasad Shitole'>Reply</a></div><ul class="children"><li class="comment byuser comment-author-petrikainulainen bypostauthor even depth-2" id="comment-1488622"><div class="comment-container"><div class="comment-byline"> <span class="comment_author">Petri</span> <a class="comment_permalink" href="#comment-1488622" title="permalink to this comment" rel="nofollow">&#xf0c1;</a> <span class="comment_date">September 19, 2016, 18:21</span></div><div class="comment_text" id="comment-body-1488622"><p>Hi,</p><p>It should be possible to do this (at least in theory). Unfortunately I have never done this myself. In other words, I don&#8217;t know how you can do it.</p></div> <a rel='nofollow' class='comment-reply-link' href='https://www.petrikainulainen.net/programming/maven/integration-testing-with-maven/?replytocom=1488622#respond' onclick='return addComment.moveForm( "comment-body-1488622", "1488622", "respond", "2840" )' aria-label='Reply to Petri'>Reply</a></div></li></ul></li><li class="comment odd alt thread-odd thread-alt depth-1" id="comment-1494124"><div class="comment-container"><div class="comment-byline"> <span class="comment_author">Monis</span> <a class="comment_permalink" href="#comment-1494124" title="permalink to this comment" rel="nofollow">&#xf0c1;</a> <span class="comment_date">October 7, 2016, 08:46</span></div><div class="comment_text" id="comment-body-1494124"><p>Hi Petri,</p><p>Thanks for a nice blog, but in my case the dev and test code are in  different repos, and i want to get code coverage of dev code by running Test Suite(Test Rest API services) to get my code coverage of dev code, is there any way i can instrument dev code first and then run test suite against it.</p><p>Thanks,<br /> Monis.</p></div> <a rel='nofollow' class='comment-reply-link' href='https://www.petrikainulainen.net/programming/maven/integration-testing-with-maven/?replytocom=1494124#respond' onclick='return addComment.moveForm( "comment-body-1494124", "1494124", "respond", "2840" )' aria-label='Reply to Monis'>Reply</a></div><ul class="children"><li class="comment byuser comment-author-petrikainulainen bypostauthor even depth-2" id="comment-1495344"><div class="comment-container"><div class="comment-byline"> <span class="comment_author">Petri</span> <a class="comment_permalink" href="#comment-1495344" title="permalink to this comment" rel="nofollow">&#xf0c1;</a> <span class="comment_date">October 11, 2016, 20:01</span></div><div class="comment_text" id="comment-body-1495344"><p>Hi,</p><p>the JaCoCo agent must be running when the tests are run because this agent records that data that reveals which parts of the code were run by your tests.</p><p>Also, if you want to deploy your code into an external server before you run your tests, you need to figure out a way to record this data on the server, copy it back to computer that runs the tests, and create the code coverage report. Unfortunately I don&#8217;t know how you can create a build script that does this.</p></div> <a rel='nofollow' class='comment-reply-link' href='https://www.petrikainulainen.net/programming/maven/integration-testing-with-maven/?replytocom=1495344#respond' onclick='return addComment.moveForm( "comment-body-1495344", "1495344", "respond", "2840" )' aria-label='Reply to Petri'>Reply</a></div></li></ul></li><li class="comment odd alt thread-even depth-1" id="comment-1505264"><div class="comment-container"><div class="comment-byline"> <span class="comment_author">Howard</span> <a class="comment_permalink" href="#comment-1505264" title="permalink to this comment" rel="nofollow">&#xf0c1;</a> <span class="comment_date">November 21, 2016, 21:35</span></div><div class="comment_text" id="comment-body-1505264"><p>This webpage is wonky.The  characters are rendering as</p><p>&#8220;&amp;amp;lt;&#8221; (minus the quotations) for the</p><p>All the other pages on your site show up fine.</p></div> <a rel='nofollow' class='comment-reply-link' href='https://www.petrikainulainen.net/programming/maven/integration-testing-with-maven/?replytocom=1505264#respond' onclick='return addComment.moveForm( "comment-body-1505264", "1505264", "respond", "2840" )' aria-label='Reply to Howard'>Reply</a></div><ul class="children"><li class="comment byuser comment-author-petrikainulainen bypostauthor even depth-2" id="comment-1505273"><div class="comment-container"><div class="comment-byline"> <span class="comment_author">Petri</span> <a class="comment_permalink" href="#comment-1505273" title="permalink to this comment" rel="nofollow">&#xf0c1;</a> <span class="comment_date">November 21, 2016, 22:51</span></div><div class="comment_text" id="comment-body-1505273"><p>Oops. I fixed the problem. Thank you for pointing this out!</p></div> <a rel='nofollow' class='comment-reply-link' href='https://www.petrikainulainen.net/programming/maven/integration-testing-with-maven/?replytocom=1505273#respond' onclick='return addComment.moveForm( "comment-body-1505273", "1505273", "respond", "2840" )' aria-label='Reply to Petri'>Reply</a></div></li></ul></li><li class="comment odd alt thread-odd thread-alt depth-1" id="comment-1708778"><div class="comment-container"><div class="comment-byline"> <span class="comment_author">Vijay Yadav</span> <a class="comment_permalink" href="#comment-1708778" title="permalink to this comment" rel="nofollow">&#xf0c1;</a> <span class="comment_date">September 10, 2018, 22:14</span></div><div class="comment_text" id="comment-body-1708778"><p>I have put my integration and unit test in the same folder like src/test/&#8230;/*IT.java.<br /> and I am executing the failsafe-plugin to run the integration test, but while displaying this in Jenkins as a post build action it is not able to publish in report, it is only giving the Unit test report not the integration test report.</p><p>Please suggest.</p></div> <a rel='nofollow' class='comment-reply-link' href='https://www.petrikainulainen.net/programming/maven/integration-testing-with-maven/?replytocom=1708778#respond' onclick='return addComment.moveForm( "comment-body-1708778", "1708778", "respond", "2840" )' aria-label='Reply to Vijay Yadav'>Reply</a></div></li></ul><div id="respond"><div id="commentform"><form method="post" action="https://www.petrikainulainen.net/wp-comments-post.php"><p class="comment_form_title">Leave a Comment</p><p id="comment_form_name"> <input type="text" id="author" class="input_text" name="author" value="" placeholder="Name (required)" tabindex="1" /></p><p id="comment_form_comment"><textarea name="comment" id="comment" class="input_text" tabindex="4" rows="6"></textarea></p><p class="comment-form-cookies-consent"> <input id="wp-comment-cookies-consent" name="wp-comment-cookies-consent" type="checkbox" value="yes" /> <label for="wp-comment-cookies-consent">Save my name, email, and website in this browser for the next time I comment.</label></p><p id="comment_form_submit"> <input type="submit" id="submit" class="input_submit" name="submit" tabindex="5" value="Submit" /></p> <a rel="nofollow" id="cancel-comment-reply-link" href="/programming/maven/integration-testing-with-maven/#respond" style="display:none;">Cancel</a><p style="display: none;"><input type="hidden" id="akismet_comment_nonce" name="akismet_comment_nonce" value="ef21d1e33b" /></p><p style="display: none;"><input type="hidden" id="ak_js" name="ak_js" value="158"/></p><input type='hidden' name='comment_post_ID' value='2840' id='comment_post_ID' /> <input type='hidden' name='comment_parent' id='comment_parent' value='0' /></form></div></div></section></article><div class="prev-next"><p class="previous_post">Previous Post: <a href="https://www.petrikainulainen.net/programming/spring-framework/spring-data-jpa-tutorial-part-nine-conclusions/" rel="prev">Spring Data JPA Tutorial Part Nine: Conclusions</a></p><p class="next_post">Next Post: <a href="https://www.petrikainulainen.net/programming/apache-hadoop/install-and-configure-apache-hadoop-to-run-in-a-pseudo-distributed-mode/" rel="next">Install and Configure Apache Hadoop to Run in a Pseudo-Distributed Mode</a></p></div></div><div class="sidebar"><div style="display:none" id="tve-ult-widget-container" data-widget-id="tve_ult_widget-2"><div class="widget widget_tve_ult_widget" id="tve_ult_widget-2"><span id="tve-ult-widget-placeholder"></span></div></div><div style="display:none" class="tl-widget-container"><div class="widget widget_thrive_leads" id="widget_thrive_leads-2"><span style="display:none" class="tl-placeholder-f-type-widget"></span></div></div><div class="widget widget_text" id="text-8"><p class="widget_title">Write Better Tests</p><div class="textwidget"><ul><li><a href="https://www.testwithspring.com/save-time-by-writing-less-test-code/?utm_source=petri-kainulainen&utm_medium=web&utm_content=sidebar&utm_campaign=test-with-spring-course-presales" target="_blank">Test With Spring Course</a></li><li><a href="/category/weekly/">Java Testing Weekly</a></li><li><a href="/junit-5-tutorial/">JUnit 5 Tutorial</a></li><li><a href="/spring-mvc-test-tutorial/">Spring MVC Test Tutorial</a></li><li><a href="/wiremock-tutorial/">WireMock Tutorial</a></li><li><a href="/writing-clean-tests/">Writing Clean Tests</a></li><li><a href="/writing-tests-for-data-access-code/">Writing Tests for Data Access Code</a></li></ul></div></div><div class="widget widget_text" id="text-6"><p class="widget_title">Master Spring Framework</p><div class="textwidget"><ul><li><a href="/spring-data-jpa-tutorial/">Spring Data JPA Tutorial</a></li><li><a href="/spring-data-solr-tutorial/">Spring Data Solr Tutorial</a></li><li><a href="/spring-from-the-trenches/">Spring From the Trenches</a></li><li><a href="/spring-mvc-test-tutorial/">Spring MVC Test Tutorial</a></li><li><a href="/spring-social-tutorial/">Spring Social Tutorial</a></li><li><a href="/using-jooq-with-spring/">Using jOOQ with Spring</a></li></ul></div></div><div class="widget widget_text" id="text-9"><p class="widget_title">Build Your Application</p><div class="textwidget"><ul><li><a href="/getting-started-with-gradle/">Getting Started With Gradle</a></li><li><a href="/maven-tutorial/">Maven Tutorial</a></li></ul></div></div><div class="widget_text widget widget_custom_html" id="custom_html-2"><p class="widget_title">Find the Best Tutorials</p><div class="textwidget custom-html-widget"><ul><li><a href="/junit-5-the-ultimate-resource/">JUnit 5 - The Ultimate Resource</a></li><li><a href="/spring-batch-the-ultimate-resource/">Spring Batch - The Ultimate Resource</a></li></ul></div></div><div class="widget search-form" id="thesis-search-widget-2"><p class="widget_title">Search</p><form class="search_form" method="get" action="https://www.petrikainulainen.net"><p> <input class="input_text" type="text" id="s" name="s" value="enter search term and press enter" onfocus="if (this.value == 'enter search term and press enter') {this.value = '';}" onblur="if (this.value == '') {this.value = 'enter search term and press enter';}" /> <input type="hidden" id="searchsubmit" value="Search" /></p></form></div><div class="widget widget_tabbed_posts"><p class="widget_title">From the Blog</p><ul class="tabs clear"><li class="tab active" data-tab="posts_1">Recent</li><li class="tab" data-tab="posts_2">Popular</li><li class="tab" data-tab="posts_3">Favorites</li></ul><ul id="posts_1" class="tabbed_posts posts_active"><li><a href="https://www.petrikainulainen.net/weekly/java-testing-weekly-46-2018/" title="Java Testing Weekly 46 / 2018">Java Testing Weekly 46 / 2018</a></li><li><a href="https://www.petrikainulainen.net/weekly/java-testing-weekly-45-2018/" title="Java Testing Weekly 45 / 2018">Java Testing Weekly 45 / 2018</a></li><li><a href="https://www.petrikainulainen.net/weekly/java-testing-weekly-44-2018/" title="Java Testing Weekly 44 / 2018">Java Testing Weekly 44 / 2018</a></li><li><a href="https://www.petrikainulainen.net/programming/testing/writing-tests-for-web-applications-with-testproject/" title="Writing Tests for Web Applications With TestProject">Writing Tests for Web Applications With TestProject</a></li><li><a href="https://www.petrikainulainen.net/weekly/java-testing-weekly-43-2018/" title="Java Testing Weekly 43 / 2018">Java Testing Weekly 43 / 2018</a></li></ul><ul id="posts_2" class="tabbed_posts"><li><a href="https://www.petrikainulainen.net/programming/spring-framework/adding-social-sign-in-to-a-spring-mvc-web-application-registration-and-login/" title="Adding Social Sign In to a Spring MVC Web Application: Registration and Login">Adding Social Sign In to a Spring MVC Web Application: Registration and Login</a></li><li><a href="https://www.petrikainulainen.net/programming/spring-framework/adding-social-sign-in-to-a-spring-mvc-web-application-configuration/" title="Adding Social Sign In to a Spring MVC Web Application: Configuration">Adding Social Sign In to a Spring MVC Web Application: Configuration</a></li><li><a href="https://www.petrikainulainen.net/programming/spring-framework/spring-data-jpa-tutorial-part-four-jpa-criteria-queries/" title="Spring Data JPA Tutorial: Creating Database Queries With the JPA Criteria API">Spring Data JPA Tutorial: Creating Database Queries With the JPA Criteria API</a></li><li><a href="https://www.petrikainulainen.net/programming/spring-framework/spring-data-jpa-tutorial-part-two-crud/" title="Spring Data JPA Tutorial: CRUD">Spring Data JPA Tutorial: CRUD</a></li><li><a href="https://www.petrikainulainen.net/programming/spring-framework/unit-testing-of-spring-mvc-controllers-normal-controllers/" title="Unit Testing of Spring MVC Controllers: &#8220;Normal&#8221; Controllers">Unit Testing of Spring MVC Controllers: &#8220;Normal&#8221; Controllers</a></li></ul><ul id="posts_3" class="tabbed_posts"><li><a href="https://www.petrikainulainen.net/programming/spring-framework/spring-from-the-trenches-cleaning-up-our-test-code-with-http-request-builders/" title="Spring From the Trenches: Cleaning Up Our Test Code With HTTP Request Builders">Spring From the Trenches: Cleaning Up Our Test Code With HTTP Request Builders</a></li><li><a href="https://www.petrikainulainen.net/programming/spring-framework/spring-from-the-trenches-disabling-cookie-management-of-apache-http-client-4-and-resttemplate/" title="Spring From the Trenches: Disabling Cookie Management of Apache HTTP Client 4 and RestTemplate">Spring From the Trenches: Disabling Cookie Management of Apache HTTP Client 4 and RestTemplate</a></li><li><a href="https://www.petrikainulainen.net/programming/spring-framework/spring-batch-tutorial-writing-information-to-a-database-with-jdbc/" title="Spring Batch Tutorial: Writing Information to a Database With JDBC">Spring Batch Tutorial: Writing Information to a Database With JDBC</a></li><li><a href="https://www.petrikainulainen.net/programming/spring-framework/spring-batch-tutorial-writing-information-to-a-file/" title="Spring Batch Tutorial: Writing Information to a File">Spring Batch Tutorial: Writing Information to a File</a></li><li><a href="https://www.petrikainulainen.net/programming/spring-framework/spring-batch-tutorial-reading-information-from-an-excel-file/" title="Spring Batch Tutorial: Reading Information From an Excel File">Spring Batch Tutorial: Reading Information From an Excel File</a></li></ul></div><div class="widget_text widget widget_custom_html post-sidebar-bottom" id="custom_html-4"><p class="widget_title">How to write better tests?</p><div class="textwidget custom-html-widget">If you are struggling to write automated tests that <strong>embrace change</strong>, you should find out how my testing course can help you to <a href="https://www.testwithspring.com/save-time-by-writing-less-test-code/?utm_source=testwithspring&utm_medium=web&utm_content=frontpage&utm_campaign=test-with-spring-course-sales?utm_source=petri-kainulainen&utm_medium=web&utm_content=post-sidebar-bottom&utm_campaign=test-with-spring-course-sales" target="_blank"><strong>write tests for Spring and Spring Boot applications</strong></a>.</div></div></div></div></div><div id="footer" class="full_width"><div class="inner"><p class="attribution">© 2010-Present Petri Kainulainen (all code samples are licensed under <a href="https://www.apache.org/licenses/LICENSE-2.0" target="_blank">Apache License 2.0</a>) <br> <a href="/sitemap">Sitemap</a> | <a href="/cookie-policy/">Cookie Policy</a> | <a href="/privacy-policy/">Privacy Policy</a></p></div></div> <script type='text/javascript'>/* <![CDATA[ */ var TVE_Ult_Data = {"ajaxurl":"https:\/\/www.petrikainulainen.net\/wp-admin\/admin-ajax.php","ajax_load_action":"tve_ult_ajax_load","conversion_events_action":"tve_ult_conversion_event","shortcode_campaign_ids":[],"matched_display_settings":[16293,18755],"campaign_ids":[16293,18755],"post_id":14333,"is_singular":true,"tu_em":""}; /* ]]> */</script> <script type="text/javascript" src="https://www.petrikainulainen.net/wp-content/plugins/thrive-ultimatum/js/dist/frontend.min.js?v=2.0.61"></script><script type='text/javascript' src='https://www.petrikainulainen.net/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shCore.js?ver=3.0.9b'></script> <script type='text/javascript' src='https://www.petrikainulainen.net/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushXml.js?ver=3.0.9b'></script> <script type='text/javascript'>(function(){
		var corecss = document.createElement('link');
		var themecss = document.createElement('link');
		var corecssurl = "https://www.petrikainulainen.net/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shCore.css?ver=3.0.9b";
		if ( corecss.setAttribute ) {
				corecss.setAttribute( "rel", "stylesheet" );
				corecss.setAttribute( "type", "text/css" );
				corecss.setAttribute( "href", corecssurl );
		} else {
				corecss.rel = "stylesheet";
				corecss.href = corecssurl;
		}
		document.getElementsByTagName("head")[0].insertBefore( corecss, document.getElementById("syntaxhighlighteranchor") );
		var themecssurl = "https://www.petrikainulainen.net/wp-content/thesis/highlighter/shThemePetriKainulainen.css?ver=3.0.9b";
		if ( themecss.setAttribute ) {
				themecss.setAttribute( "rel", "stylesheet" );
				themecss.setAttribute( "type", "text/css" );
				themecss.setAttribute( "href", themecssurl );
		} else {
				themecss.rel = "stylesheet";
				themecss.href = themecssurl;
		}
		//document.getElementById("syntaxhighlighteranchor").appendChild(themecss);
		document.getElementsByTagName("head")[0].insertBefore( themecss, document.getElementById("syntaxhighlighteranchor") );
	})();
	SyntaxHighlighter.config.strings.expandSource = '+ expand source';
	SyntaxHighlighter.config.strings.help = '?';
	SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
	SyntaxHighlighter.config.strings.noBrush = 'Can\'t find brush for: ';
	SyntaxHighlighter.config.strings.brushNotHtmlScript = 'Brush wasn\'t configured for html-script option: ';
	SyntaxHighlighter.defaults['auto-links'] = false;
	SyntaxHighlighter.defaults['pad-line-numbers'] = false;
	SyntaxHighlighter.defaults['toolbar'] = false;
	SyntaxHighlighter.all();</script> <script type='text/javascript' src='https://www.petrikainulainen.net/wp-includes/js/comment-reply.min.js?ver=4.9.8'></script> <script type='text/javascript'>/* <![CDATA[ */ var cnArgs = {"ajaxurl":"https:\/\/www.petrikainulainen.net\/wp-admin\/admin-ajax.php","hideEffect":"fade","onScroll":"no","onScrollOffset":"100","cookieName":"cookie_notice_accepted","cookieValue":"true","cookieTime":"7862400","cookiePath":"\/","cookieDomain":"","redirection":"","cache":"1","refuse":"no","revoke_cookies":"0","revoke_cookies_opt":"automatic","secure":"1"}; /* ]]> */</script> <script type='text/javascript' src='https://www.petrikainulainen.net/wp-content/plugins/cookie-notice/js/front.min.js?ver=1.2.44'></script> <script type='text/javascript'>/* <![CDATA[ */ var tve_frontend_options = {"is_editor_page":"","page_events":[],"is_single":"1","ajaxurl":"https:\/\/www.petrikainulainen.net\/wp-admin\/admin-ajax.php","social_fb_app_id":"","dash_url":"https:\/\/www.petrikainulainen.net\/wp-content\/plugins\/thrive-visual-editor\/thrive-dashboard","translations":{"Copy":"Copy"}}; /* ]]> */</script> <script type='text/javascript' src='https://www.petrikainulainen.net/wp-content/plugins/thrive-visual-editor/editor/js/dist/frontend.min.js?ver=2.1.2'></script> <script type='text/javascript' src='//www.petrikainulainen.net/wp-content/plugins/thrive-leads/js/frontend.min.js?ver=2.0.59'></script> <script type='text/javascript'>/* <![CDATA[ */ var tve_dash_front = {"ajaxurl":"https:\/\/www.petrikainulainen.net\/wp-admin\/admin-ajax.php","force_ajax_send":"1","is_crawler":""}; /* ]]> */</script> <script type='text/javascript' src='https://www.petrikainulainen.net/wp-content/plugins/thrive-visual-editor/thrive-dashboard/js/dist/frontend.min.js?ver=2.0.72'></script> <script type='text/javascript'>/* <![CDATA[ */ var q2w3_sidebar_options = [{"sidebar":"thesis_wp_widgets_1522583208","margin_top":10,"margin_bottom":0,"stop_id":"","screen_max_width":0,"screen_max_height":0,"width_inherit":false,"refresh_interval":1500,"window_load_hook":false,"disable_mo_api":false,"widgets":["custom_html-4"]}]; /* ]]> */</script> <script type='text/javascript' src='https://www.petrikainulainen.net/wp-content/plugins/q2w3-fixed-widget/js/q2w3-fixed-widget.min.js?ver=5.1.4'></script> <script type='text/javascript' src='https://www.petrikainulainen.net/wp-includes/js/wp-embed.min.js?ver=4.9.8'></script> <script async="async" type='text/javascript' src='https://www.petrikainulainen.net/wp-content/plugins/akismet/_inc/form.js?ver=4.1'></script> <script type="text/javascript">/* <![CDATA[ */ /*<![CDATA[*/if ( !window.TL_Const ) {var TL_Const={"security":"6f257735d1","ajax_url":"https:\/\/www.petrikainulainen.net\/wp-admin\/admin-ajax.php","forms":[],"action_conversion":"tve_leads_ajax_conversion","action_impression":"tve_leads_ajax_impression","ajax_load":1,"main_group_id":11429,"display_options":{"allowed_post_types":[],"flag_url_match":false},"custom_post_data":{"http_referrer":"https:\/\/www.petrikainulainen.net\/programming\/testing\/12-tools-that-i-use-for-writing-unit-and-integration-tests\/"},"current_screen":{"screen_type":4,"screen_id":14333},"ignored_fields":["email","_captcha_size","_captcha_theme","_captcha_type","_submit_option","_use_captcha","g-recaptcha-response","__tcb_lg_fc","__tcb_lg_msg","_state","_form_type","_error_message_option","_back_url","_submit_option","url","_asset_group","_asset_option","mailchimp_optin"]};} else {ThriveGlobal.$j.extend(true, TL_Const, {"security":"6f257735d1","ajax_url":"https:\/\/www.petrikainulainen.net\/wp-admin\/admin-ajax.php","forms":[],"action_conversion":"tve_leads_ajax_conversion","action_impression":"tve_leads_ajax_impression","ajax_load":1,"main_group_id":11429,"display_options":{"allowed_post_types":[],"flag_url_match":false},"custom_post_data":{"http_referrer":"https:\/\/www.petrikainulainen.net\/programming\/testing\/12-tools-that-i-use-for-writing-unit-and-integration-tests\/"},"current_screen":{"screen_type":4,"screen_id":14333},"ignored_fields":["email","_captcha_size","_captcha_theme","_captcha_type","_submit_option","_use_captcha","g-recaptcha-response","__tcb_lg_fc","__tcb_lg_msg","_state","_form_type","_error_message_option","_back_url","_submit_option","url","_asset_group","_asset_option","mailchimp_optin"]})} /*]]> */ /* ]]> */</script> <div id="cookie-notice" role="banner" class="cn-bottom wp-default" style="color: #020202; background-color: #ffee00;"><div class="cookie-notice-container"><span id="cn-notice-text">Due to GDPR, we have published our new privacy policy. </span><a href="#" id="cn-accept-cookie" data-cookie-set="accept" class="cn-set-cookie cn-button wp-default button">Close</a><a href="https://www.petrikainulainen.net/privacy-policy/" target="_self" id="cn-more-info" class="cn-more-info cn-button wp-default button">Read Privacy Policy</a></div></div><script>(function(d,g){d[g]||(d[g]=function(g){return this.querySelectorAll("."+g)},Element.prototype[g]=d[g])})(document,"getElementsByClassName");(function(){var classes = document.getElementsByClassName('menu_control');for (i = 0; i < classes.length; i++) {classes[i].onclick = function() {var menu = this.nextElementSibling;if (/show_menu/.test(menu.className))menu.className = menu.className.replace('show_menu', '').trim();else menu.className += ' show_menu';if (/menu_control_triggered/.test(this.className))this.className = this.className.replace('menu_control_triggered', '').trim();else this.className += ' menu_control_triggered';};}})();</script> <script type="text/javascript">!function(){"use strict";function e(b){for(var d=0;d<a.length;d++)a[d].dataset.tab===b?a[d].classList.add(c):a[d].classList.remove(c)}function f(a){for(var c=document.getElementById(a),e=0;e<b.length;e++)b[e]===c?b[e].classList.add(d):b[e].classList.remove(d)}for(var a=document.getElementsByClassName("tab"),b=document.getElementsByClassName("tabbed_posts"),c="active",d="posts_active",g=0;g<a.length;g++)a[g].addEventListener("click",function(a){a.preventDefault(),f(a.target.dataset.tab),e(a.target.dataset.tab)})}();</script> </body></html>
<!-- This website is like a Rocket, isn't it? Performance optimized by WP Rocket. Learn more: https://wp-rocket.me - Debug: cached@1542296650 -->